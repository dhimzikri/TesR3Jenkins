{"title":"Payment Request Return Detail","id":"PaymentRequest_ReturnDetail","addButton":false,"addLink":"","pathOption":"","backButton":false,"component":[{"form":{"subsection":{"title":"Payment Request ","isVertical":false,"isSubsection":true,"isModeAdd":false,"formInput":[{"Action":[],"Type":"DDL","Label":"Payment Request Type","Variable":"MrPayReqTypeCode","IsRequired":true,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":true,"UseDefaultValue":false,"isUseAPI":true,"DdlItemsObj":null,"DdlReqObj":{"Environment":"FOU","Url":"/v1/RefMaster/GetListKeyValueActiveByCode","CustomObjName":"ReturnObject","CustomKeyName":"Key","CustomValueName":"Value","ReqObj":{"RefMasterTypeCode":"PAY_REQ_TYPE"}}},{"Action":[{"type":"hideField","condition":[{"variable":"IsExistingVendor","restriction":"Eq","value":"true"}],"listField":["VendorName","VendorBankAccNo","VendorBankBranch","VendorBankCode","VendorBankAccName"],"isRevertable":true},{"type":"hideField","condition":[{"variable":"IsExistingVendor","restriction":"Eq","value":"false"}],"listField":["VendorId","VendorBankAcc"],"isRevertable":true},{"type":"bindValue","condition":[],"listBind":[{"variable":"VendorId","value":""},{"variable":"VendorBankAcc","value":""},{"variable":"VendorBankBranch","value":""},{"variable":"VendorBankCode","value":""},{"variable":"VendorBankAccNo","value":""},{"variable":"VendorCode","value":""},{"variable":"VendorBankAccName","value":""},{"variable":"VendorName","value":""}],"isRevertable":false},{"type":"requiredField","condition":[{"variable":"IsExistingVendor","restriction":"Eq","value":"false"}],"listField":["VendorBankAccNo","VendorBankBranch","VendorName","VendorBankCode","VendorBankAccName"],"isRevertable":true},{"type":"requiredField","condition":[{"variable":"IsExistingVendor","restriction":"Eq","value":"true"}],"listField":["VendorId","VendorBankAcc"],"isRevertable":true}],"Type":"BOOL","Label":"Is Existing Vendor","Variable":"IsExistingVendor","Value":true,"IsRequired":true,"IsCallback":true,"IsReadonly":false,"IsHide":false,"IsEditable":true},{"Action":[],"Type":"TEXT","Label":"Vendor","Variable":"VendorName","Value":"","Pattern":"","IsRequired":false,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":true,"Max":"50","Placeholder":""},{"Action":[{"type":"setLookupCrit","condition":[],"lookupKey":"VendorBankAcc","listCrit":[{"variable":"","value":"","propName":"vba.VENDOR_ID","propValue":"VendorId","restriction":"Eq"}]},{"type":"callAPI","environment":"FOU","apiPath":"/v1/Vendor/GetVendorByVendorId","reqObj":[{"propName":"id","propValue":"VendorId"}],"bindToVar":[{"variable":"VendorCode","value":"VendorCode"},{"variable":"VendorName","value":"VendorName"},{"variable":"TaxpayerNo","value":"TaxpayerNo"}],"bindToDict":[{"variable":"TaxpayerNo","value":"TaxpayerNo"},{"variable":"VendorCode","value":"VendorCode"}],"bindToFormArr":[],"condition":[]},{"type":"bindValue","condition":[],"listBind":[{"variable":"VendorCode","value":"VendorCode"}],"isRevertable":false}],"Type":"LOOKUP","Label":"Vendor","Variable":"VendorId","IsRequired":true,"IsCallback":true,"IsReadonly":true,"IsHide":false,"IsEditable":true,"IsClear":false,"LookupName":"${Lookupvendor}","Criteria":[],"Placeholder":""},{"Action":[],"Type":"DDL","Label":"Vendor Bank","Variable":"VendorBankCode","IsRequired":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":true,"UseDefaultValue":false,"isUseAPI":true,"DdlItemsObj":null,"DdlReqObj":{"Environment":"FOU","Url":"/v1/RefBank/GetListActiveRefBankAsync","CustomObjName":"ReturnObject","CustomKeyName":"BankCode","CustomValueName":"BankName","ReqObj":{}}},{"Action":[],"Type":"TEXT","Label":"Vendor Bank Branch","Variable":"VendorBankBranch","Value":"","Pattern":"","IsRequired":false,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":true,"Placeholder":""},{"Action":[],"Type":"TEXT","Label":"Vendor Bank Account No","Variable":"VendorBankAccNo","Value":"","Pattern":"","IsRequired":false,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":true,"Max":"50","Placeholder":""},{"Action":[],"Type":"TEXT","Label":"Vendor Bank Account Name","Variable":"VendorBankAccName","Value":"","Pattern":"","IsRequired":false,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":true,"Placeholder":""},{"Action":[{"type":"callAPI","environment":"FOU","apiPath":"/v1/VendorBankAcc/GetVendorBankAccByVendorBankAccId","reqObj":[{"propName":"Id","propValue":"VendorBankAcc"}],"bindToVar":[{"variable":"VendorBankCode","value":"BankCode"},{"variable":"VendorBankAccNo","value":"BankAccountNo"},{"variable":"VendorBankBranch","value":"BankBranch"},{"variable":"VendorBankAccName","value":"BankAccountName"}],"bindToDict":[],"bindToFormArr":[],"condition":[]}],"Type":"LOOKUP","Label":"Vendor Bank Account","Variable":"VendorBankAcc","IsRequired":true,"IsCallback":true,"IsReadonly":true,"IsHide":false,"IsEditable":true,"IsClear":false,"LookupName":"${Lookup-vendorbankacc}","Criteria":[],"Placeholder":""},{"Action":[],"Type":"TEXT","Label":"Invoice No","Variable":"InvoiceNo","Value":"","Pattern":"","IsRequired":true,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":true,"Max":"50","Placeholder":""},{"Action":[{"type":"disabledField","condition":[{"variable":"CurrCode","restriction":"Eq","value":"IDR"}],"listField":["CurrRateAmt"],"isRevertable":true},{"type":"bindValue","condition":[{"variable":"CurrCode","restriction":"Eq","value":"IDR"}],"listBind":[{"variable":"CurrRateAmt","value":"1"}],"isRevertable":true},{"type":"callAPI","environment":"FOU","apiPath":"/v1/RefCurr/GetExchangeRateByCurrCode","reqObj":[{"propName":"Code","propValue":"CurrCode"}],"bindToVar":[{"variable":"CurrRateAmt","value":"ExchangeRateAmt"}],"bindToDict":[{"variable":"CurrRateAmt","value":"ExchangeRateAmt"}],"bindToFormArr":[],"condition":[],"onSuccess":[],"onError":{"type":"toaster","message":""}},{"type":"bindValue","condition":[],"listBind":[{"variable":"CurrRateAmt","value":"CurrRateAmt"}],"isRevertable":true}],"Type":"DDL","Label":"Currency","Variable":"CurrCode","IsRequired":true,"IsCallback":true,"IsReadonly":false,"IsHide":false,"IsEditable":true,"UseDefaultValue":false,"isUseAPI":true,"DdlItemsObj":null,"DdlReqObj":{"Environment":"FOU","Url":"/v1/RefCurr/GetListKvpActiveRefCurr","CustomObjName":"ReturnObject","CustomKeyName":"Key","CustomValueName":"Value","ReqObj":{}}},{"Action":[],"Type":"CURRENCY","Label":"Currency Rates","Variable":"CurrRateAmt","Value":"0","IsRequired":true,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":true,"Min":"1","Max":"","CurrencyMaskConfig":{"precision":"2"}},{"Action":[],"Type":"DATE","Label":"Invoice Date","Variable":"InvoiceDt","IsRequired":true,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":true,"Max":null,"MinDtCode":null,"MinOperator":null,"MinValue":null,"MaxDtCode":null,"MaxOperator":null,"MaxValue":null,"DtRestrictOptMin":"","DtRestrictOptMax":""},{"Action":[{"type":"requiredField","condition":[{"variable":"ChargedToAgrmntNo","restriction":"NEQ","value":""}],"listField":["ChargedToAgrmntAmt"],"isRevertable":true},{"type":"showField","condition":[{"variable":"ChargedToAgrmntNo","restriction":"NEQ","value":""}],"listField":["ChargedToAgrmntAmt"],"isRevertable":true},{"type":"bindValue","condition":[{"variable":"ChargedToAgrmntNo","restriction":"NEQ","value":""}],"listBind":[{"variable":"IsChargedToCust ","value":"true"}],"isRevertable":true}],"Type":"LOOKUP","Label":"Charge to Agreement","Variable":"ChargedToAgrmntNo","IsRequired":false,"IsCallback":true,"IsReadonly":false,"IsHide":true,"IsEditable":false,"IsClear":true,"LookupName":"${AgreementlookupForFMS}","Criteria":[],"Placeholder":""},{"Action":[{"type":"cbCallback","key":"InvoiceAmt"}],"Type":"CURRENCY","Label":"Invoice Amount","Variable":"InvoiceAmt","Value":"0","IsRequired":true,"IsCallback":true,"IsReadonly":false,"IsHide":false,"IsEditable":true,"Min":"","Max":"","CurrencyMaskConfig":{"precision":"2"}},{"Action":[{"type":"cbCallback","key":"ChargedToAgrmntAmt"}],"Type":"CURRENCY","Label":"Amount Charged","Variable":"ChargedToAgrmntAmt","Value":"0","IsRequired":false,"IsCallback":true,"IsReadonly":false,"IsHide":true,"IsEditable":false,"Min":"","Max":"","CurrencyMaskConfig":{"precision":"2"}},{"Action":[],"Type":"TEXT","Label":"VendorCode","Variable":"VendorCode","Value":"","Pattern":"","IsRequired":false,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":true,"Placeholder":""},{"Action":[],"Type":"TEXT","Label":"VendorBankCode","Variable":"VendorBankCode","Value":"","Pattern":"","IsRequired":false,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":true,"Placeholder":""},{"Action":[],"Type":"TEXT","Label":"VendorBankAccNo","Variable":"VendorBankAccNogf","Value":"","Pattern":"","IsRequired":false,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":true,"Placeholder":""},{"Action":[],"Type":"BOOL","Label":"IsChargedToCust ","Variable":"IsChargedToCust","Value":"","IsRequired":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":true}],"onLoad":[{"conditions":[],"isUseApi":true,"reqObj":[{"isFromDict":false,"propName":"TrxNo","propValue":"PayReqNo"}],"environment":"FinopsUrl","apiPath":"/v1/PaymentRequest/GetPaymentRequestDetailForReturn","action":[{"type":"hideField","condition":[{"variable":"GsValueVendorExisting","restriction":"Eq","value":"true"},{"variable":"IsExistingVendor","restriction":"Eq","value":"false"}],"listField":["VendorBankAcc","VendorId"],"isRevertable":true},{"type":"hideField","condition":[{"variable":"GsValueVendorExisting","restriction":"Eq","value":"true"},{"variable":"IsExistingVendor","restriction":"Eq","value":"true"}],"listField":["VendorName","VendorBankBranch","VendorBankAccNo","VendorBankAccName"],"isRevertable":true},{"type":"setLookupCrit","condition":[],"lookupKey":"VendorBankAcc","listCrit":[{"variable":"","value":"","propName":"vba.VENDOR_ID","propValue":"VendorId","restriction":"Eq"}]},{"type":"hideField","condition":[{"variable":"GsValueVendorExisting","restriction":"Eq","value":"false"}],"listField":["VendorName","VendorBankBranch","VendorBankAccNo","VendorBankAccName"],"isRevertable":true},{"type":"cbCallback","key":"MrPayReqTypeCode"},{"type":"disabledField","condition":[{"variable":"CurrCode","restriction":"Eq","value":"IDR"}],"listField":["CurrRateAmt"],"isRevertable":false}]}],"criteria":[],"mapCookie":[],"initAction":[{"type":"hideField","condition":[{"variable":"GsValueVendorExisting","restriction":"Eq","value":"false"}],"listField":["IsExistingVendor","VendorName","VendorBankAccNo","VendorBankAccName","VendorBankBranch"],"isRevertable":false},{"type":"disabledField","condition":[{"variable":"GsValueVendorExisting","restriction":"Eq","value":"false"}],"listField":["VendorId","VendorBankAcc"],"isRevertable":true},{"type":"requiredField","condition":[{"variable":"GsValueVendorExisting","restriction":"Eq","value":"true"}],"listField":["VendorBankAccNo","VendorBankBranch","VendorBankAccName","VendorName"],"isRevertable":true},{"type":"showField","condition":[{"variable":"ChargedToAgrmntNo","restriction":"NEQ","value":""}],"listField":["ChargedToAgrmntAmt"],"isRevertable":true},{"type":"cbCallback","key":"PatchLookup"}]}},"id":"89d1797e-adb2-497c-96a6-563ecbdfe1bd"},{"formarray":{"title":"Charge To Agreement","isSubsection":true,"isModeAdd":true,"formGroupName":"ListChargeToAgreement","canAdd":true,"isFromApi":false,"resultData":"ListChargeToAgreement","customObjName":"","formInput":{"headerList":[{"Label":"Agreement No","IsHide":false},{"Label":"Amount Charged","IsHide":false}],"bodyList":[{"Type":"LOOKUP","Label":"Agreement No","Variable":"ChargedToAgrmntNo","IsRequired":true,"IsCallback":true,"IsReadonly":true,"IsHide":false,"IsEditable":false,"IsClear":false,"LookupName":"${AgreementlookupForFMS}","Criteria":[],"Placeholder":"","Action":[{"type":"cbCallback","key":"ChargedToAgrmntNo"}]},{"Type":"CURRENCY","Label":"Amount Charged","Variable":"ChargedToAgrmntAmt","IsRequired":true,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":false,"Min":"1","Max":"","CurrencyMaskConfig":{"precision":"2"},"Action":[]}],"addBodyList":[],"footerList":[{"Type":"LABEL","IsCurr":false,"IsAggregate":false,"Label":"Total","Variable":"Total","Mode":null,"Component":null},{"Type":"LABEL","IsCurr":true,"IsAggregate":true,"Label":"TotalChargedAmt","Variable":"TotalChargedAmt","Mode":"SUM","Component":"ChargedToAgrmntAmt"},{"Type":"BLANK"}]},"getData":{"environment":"","apiPath":"","reqObj":{}}},"id":"7eb08ed1-e465-4ca1-aec2-4441dfac449f"},{"fileupload":{"label":"Upload Document","variable":"PayReqDoc","docuploadType":"Dokumen Payment Request","limitFileSize":"5000","allowedExt":"pdf;doc;docx;xls;xlsx;jpg;jpeg;png;ppt;pptx;tiff","isRequired":true,"metadata":[{"label":"Jenis Dokumen","value":"Dokumen Payment Request"}],"isSubsection":true,"subsectionTitle":"Upload Document"},"id":"05db5f91-252b-4e4d-99d7-4a71aff3d0dd"},{"viewFileupload":{"code":"ConfinsPaymentReq","environment":"FinopsUrl","apiPath":"/v1/DMSIntegration/GetListDocument","apiPathDownload":"/v1/DMSIntegration/DownloadDocument","isSubsection":false,"canDelete":true,"metadata":[{"label":"Payment Request No","value":"PayReqNo"}],"deleteApiPath":"/v1/DMSIntegration/UpdateStatusDocument","hideWhenEmpty":true},"id":"e039f9d5-04f7-47c7-b5f7-7d7f39d1f764"},{"table":{"isFromApi":false,"title":"List Allocation","resultData":"PayReqDObj","isSubsection":true,"usePagination":true,"includeSubmit":true,"tableInput":{"isSeq":true,"headerList":[{"type":"label","label":"Employee","position":"center"},{"type":"label","label":"Business Activity","position":"center"},{"type":"label","label":"Activity","position":"center"},{"type":"label","label":"Sub Activity","position":"center"},{"type":"label","label":"Allocation","position":"center"},{"type":"label","label":"Origin Office","position":"center"},{"type":"label","label":"Cost Distributed","position":"center"},{"type":"label","label":"Amount","position":"center"},{"type":"label","label":"VAT (PPN)","position":"center"},{"type":"label","label":"Income Tax (PPH)","position":"center"},{"type":"label","label":"Disburse Amount","position":"center","isSelectAll":false},{"type":"label","label":"Notes","position":"center"},{"type":"label","label":"Edit","position":"center"},{"type":"label","label":"Delete","position":"center"}],"bodyList":[{"type":"text","position":"left","property":"EmpName","isFlagColor":false},{"type":"text","position":"left","property":"BizAct","isFlagColor":false},{"type":"text","position":"left","property":"Act","isFlagColor":false},{"type":"text","position":"left","property":"SubAct","isFlagColor":false},{"type":"text","position":"left","property":"AllocName","isFlagColor":false},{"type":"text","position":"left","property":"OriginOfficeName","isFlagColor":false},{"type":"text","position":"center","property":"IsCostDistributedName","isFlagColor":false},{"type":"decimal","position":"left","property":"TrxAmt","isFlagColor":false,"precision":"0.2","IsPrcnt":false},{"type":"decimal","position":"right","property":"VatAmt","isFlagColor":false,"precision":"0.2","IsPrcnt":false},{"type":"decimal","position":"right","property":"WhtAmt","isFlagColor":false,"precision":"0.2","IsPrcnt":false},{"type":"decimal","position":"right","property":"DisburseAmt","isFlagColor":false,"precision":"0.2","IsPrcnt":false},{"type":"text","position":"left","property":"Descr","isFlagColor":false},{"type":"action","position":"center","action":[{"type":"modal","width":"80","isTemplate":true,"component":"AddEditAdvancePaymentAllocPaymentReq","disableClose":false,"param":[{"type":"RowObj","property":"RowObj"},{"type":"mode","property":"edit"},{"type":"VendorId","property":"formRaw.VendorId"},{"type":"refPaymentAllocCode","property":"RowObj.PaymentAllocCode"},{"type":"CurrCode","property":"CurrCode"},{"type":"InvoiceNo","property":"formRaw.InvoiceNo"},{"type":"CurrRateAmt","property":"formRaw.CurrRateAmt"},{"type":"TaxpayerNo","property":"TaxpayerNo"},{"type":"InvoiceDt","property":"formRaw.InvoiceDt"},{"type":"IsExistingVendor","property":"formRaw.IsExistingVendor"}],"refreshFrom":"fromLocal","mapToDict":"PayReqDObj","affectedTable":"3efa772c-15ca-4e74-931a-8f2c93032837","mapObj":[{"propName":"_form","propValue":"formRaw"},{"propName":"CostMaster.CostMaster_1","propValue":"CostMaster_1"},{"propName":"CostMaster.CostMaster_2","propValue":"CostMaster_2"},{"propName":"CostMaster.CostMaster_3","propValue":"CostMaster_3"},{"propName":"CostMaster.CostMaster_4","propValue":"CostMaster_4"},{"propName":"Coa","propValue":"CoaName"}],"excObj":[{"key":"CostMaster_1"},{"key":"CostMaster_2"},{"key":"CostMaster_3"},{"key":"CostMaster_4"}]}]},{"type":"action","position":"center","action":[{"type":"delete","property":"idx"}]}],"footerList":[{"type":"BLANK","position":"left"},{"type":"BLANK","position":"left"},{"type":"BLANK"},{"type":"BLANK"},{"type":"BLANK"},{"type":"BLANK"},{"type":"LABEL","position":"center","label":"Total"},{"type":"AGGREGATE","position":"right","label":"TrxAmt","property":"TrxAmt","aggMode":"SUM","isCurr":true,"precision":"0.2"},{"type":"AGGREGATE","position":"right","label":"VatAmt","property":"VatAmt","aggMode":"SUM","isCurr":true,"precision":"0.2"},{"type":"AGGREGATE","position":"right","label":"WhtAmt","property":"WhtAmt","aggMode":"SUM","isCurr":true,"precision":"0.2"},{"label":"DisburseAmt","property":"DisburseAmt","precision":"0.2","type":"AGGREGATE","position":"right","aggMode":"SUM","isCurr":true},{"type":"BLANK"},{"type":"BLANK"},{"type":"BLANK","position":"left"}]},"getData":{"environment":"FinopsUrl","apiPath":"/v1/PaymentRequest/GetPaymentRequestDetailForReturn","customObjName":"PayReqDObj","reqObj":[{"isFromDict":false,"propName":"TrxNo","propValue":"PayReqNo"}],"conditions":[]}},"id":"3efa772c-15ca-4e74-931a-8f2c93032837","listBtn":[{"displayName":"Add Allocation","id":"add allocationId","key":"AddAllocation","position":"top","icon":"","cssClass":"btn-primary-2 m-2","conditions":[{"property":"form.CurrCode","restriction":"NEQ","value":""},{"property":"form.IsExistingVendor","restriction":"EQ","value":"true"},{"property":"form.VendorId","restriction":"NEQ","value":""}],"btnType":"button","action":{"width":"85","mapToDict":"PayReqDObj","type":"modal","isTemplate":true,"disableClose":false,"isSheet":false,"params":[{"propName":"VendorId","propValue":"formRaw.VendorId"},{"propName":"CurrCode","propValue":"form.CurrCode"},{"propName":"mode","propValue":"add"},{"propName":"InvoiceNo","propValue":"form.InvoiceNo"},{"propName":"CurrRateAmt","propValue":"formRaw.CurrRateAmt"},{"propName":"TaxpayerNo","propValue":"TaxpayerNo"},{"propName":"InvoiceDt","propValue":"form.InvoiceDt"},{"propName":"IsExistingVendor","propValue":"formRaw.IsExistingVendor"},{"propName":"TotalCurrPrcnt","propValue":"0"}],"refreshFrom":"fromLocal","affectedTable":"3efa772c-15ca-4e74-931a-8f2c93032837","mapObj":[{"propName":"_form","propValue":"formRaw"},{"propName":"CostMaster.CostMaster_1","propValue":"CostMaster_1"},{"propName":"CostMaster.CostMaster_2","propValue":"CostMaster_2"},{"propName":"CostMaster.CostMaster_3","propValue":"CostMaster_3"},{"propName":"CostMaster.CostMaster_4","propValue":"CostMaster_4"},{"propName":"Coa","propValue":"CoaName"}],"excObj":[{"key":"CostMaster_1"},{"key":"CostMaster_2"},{"key":"CostMaster_3"},{"key":"CostMaster_4"}],"component":"AddEditAdvancePaymentAllocPaymentReq"}}],"conditions":[{"property":"PayReqDObj","restriction":"IFFOUND","value":""}]},{"approvalcreate":{"categoryCode":"PAY_REQ_CAT","refReasonTypeCode":"PAY_REQ","isHideTrxNo":true,"apvTypecodes":[{"TypeCode":"APV_LIMIT"},{"Attributes[0].AttributeName":"Approval Amount"},{"Attributes[0].AttributeValue":"TotalTrxAmtWithVat"}],"setApprovalObj":{"environment":"FinopsUrl","apiPath":"/v1/PaymentRequest/GetCostControlApvMapping","reqObj":{"PayReqHObj":"formRaw","PayReqHObj.PayReqDObj":"PayReqDObj"}},"onSubmit":{"environment":"FoundationR3Url","apiPath":"/v1/Approval/SubmitApproval","approvalRequestObj":{}},"fromApi":true,"schmCode":"PAY_REQ_SCHM","trxNo":"PayReqNo","requiredNotes":true,"defaultApprover":"ApproverUsername","isHideNewRfa":true},"id":"21f55ad6-f7ca-423d-b999-1079de090a88"}],"serviceUrl":{"add":{"environment":"","apiPath":"","apiUrl":""},"edit":{"environment":"","apiPath":"","apiUrl":""},"createRfa":{"environment":"","apiPath":"","apiUrl":""}},"hideTitle":false,"isRedirect":false,"redirectOption":"","redirectLink":"","hideSubmitButton":false,"listBtn":[],"customToastrMsg":"","onCancel":{},"isOverrideSubmit":true,"isOverrideCancel":false,"onSubmit":[{"conditions":[{"property":"Count","restriction":"GT","value":"0"},{"property":"DuplicateAgrmntNo","restriction":"NEQ","value":"true"},{"property":"formRaw.ListChargeToAgreement.length","restriction":"GT","value":"0"},{"property":"TotalTrxAmtWithVat","restriction":"EQ","value":"formRaw.InvoiceAmt"}],"result":{"environment":"FinopsUrl","path":"/v2/PaymentRequest/SubmitReturnPaymentRequest","onError":{"type":"toaster","message":""},"type":"http","reqObj":[{"propName":"RequestRFAInfoObj","propValue":"form.RFAInfo"},{"propName":"IsSubmit","propValue":"true"},{"propName":"PayReqNo","propValue":"PayReqNo"},{"propName":"PayReqHObj","propValue":"formRaw"},{"propName":"PayReqHObj.PayReqDObj","propValue":"PayReqDObj"}],"excObj":[],"onSuccess":[{"conditions":[],"result":{"type":"toaster","mode":"success","message":"${Message}"}},{"conditions":[],"result":{"type":"link","target":"_self","params":[],"path":"/paymentrequest/return/paging"}}],"mapResToDict":[]}},{"conditions":[{"property":"Count","restriction":"EQ","value":"0"}],"result":{"message":"Please Allocate Activity To Continue","type":"toaster","mode":"warning"}},{"conditions":[{"property":"DuplicateAgrmntNo","restriction":"EQ","value":"true"}],"result":{"message":"Duplicate Agreement No!","type":"toaster","mode":"warning"}},{"conditions":[{"property":"TotalTrxAmtWithVat","restriction":"LT","value":"formRaw.InvoiceAmt"}],"result":{"message":"Total Transaction Amount + VAT Amount Is Less Than Invoice Amount","type":"toaster","mode":"warning"}},{"conditions":[{"property":"TotalTrxAmtWithVat","restriction":"GT","value":"formRaw.InvoiceAmt"}],"result":{"message":"Total Transaction Amount + VAT Amount Is Greater Than Invoice Amount","type":"toaster","mode":"warning"}},{"conditions":[{"property":"Count","restriction":"GT","value":"0"},{"property":"TotalTrxAmtWithVat","restriction":"EQ","value":"formRaw.InvoiceAmt"},{"value":"true","property":"DuplicateAgrmntNo","restriction":"NEQ"}],"result":{"environment":"FinopsUrl","path":"/v2/PaymentRequest/SubmitReturnPaymentRequest","onError":{"type":"toaster","message":""},"type":"http","reqObj":[{"propName":"RequestRFAInfoObj","propValue":"form.RFAInfo"},{"propName":"IsSubmit","propValue":"true"},{"propName":"PayReqNo","propValue":"PayReqNo"},{"propName":"PayReqHObj","propValue":"formRaw"},{"propName":"PayReqHObj.PayReqDObj","propValue":"PayReqDObj"}],"excObj":[],"onSuccess":[{"conditions":[],"result":{"type":"toaster","mode":"success","message":"${Message}"}},{"conditions":[],"result":{"type":"link","target":"_self","params":[],"path":"/paymentrequest/return/paging"}}],"mapResToDict":[]}}],"hideCancelButton":false,"onInit":[{"environment":"FinopsUrl","apiPath":"/v1/PaymentRequest/GetPaymentRequestAllocListWithDetail","reqObj":[{"isFromDict":false,"propName":"TrxNo","propValue":"PayReqNo"}],"return":[{"propName":"PayReqDObj","propValue":"PayReqDObj"},{"propName":"VendorCode","propValue":"VendorCode"},{"propName":"ListChargeToAgreement","propValue":"ListChargeToAgreement"}],"conditions":[]},{"environment":"FoundationR3Url","apiPath":"/v2/Vendor/GetVendorByVendorCode","reqObj":[{"isFromDict":false,"propName":"code","propValue":"VendorCode"}],"return":[{"propName":"VendorId","propValue":"VendorId"},{"propName":"VendorName","propValue":"VendorName"}],"conditions":[{"property":"VendorCode","restriction":"NEQ","value":""}]},{"environment":"fouR3Url","apiPath":"/v2/RfaLog/GetRfaLogByTrxNo","reqObj":[{"isFromDict":false,"propName":"TrxNo","propValue":"PayReqNo"}],"return":[{"propName":"RequestId","propValue":"ListRfaLogObj[0].RfaNo"}],"conditions":[]},{"environment":"FinopsUrl","apiPath":"/v1/GeneralSettingFmsObj/GetObjectByUniqueNo","reqObj":[{"isFromDict":false,"propName":"TrxNo","propValue":"IS_EXISTING_VENDOR_PAY_REQ"}],"return":[{"propName":"GsValueVendorExisting","propValue":"GsValue"}],"conditions":[]},{"environment":"FoundationR3Url","apiPath":"/v1/RefUser/GetSpvUsernameByUsername","reqObj":[{"isFromDict":false,"propName":"Username","propValue":"useraccess.UserName"}],"return":[{"propName":"ApproverUsername","propValue":"Code"}],"conditions":[]}],"conditionalTitle":[],"persistData":false,"persistPropName":"PaymentRequest"}