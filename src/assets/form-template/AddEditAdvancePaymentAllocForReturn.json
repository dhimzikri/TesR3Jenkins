{"title":"Add Edit Advance Payment Alloc","id":"AddEditAdvancePaymentAllocForReturn","addButton":false,"addLink":"","pathOption":"","backButton":false,"component":[{"form":{"subsection":{"title":"Detail Allocation","isVertical":true,"isSubsection":true,"isModeAdd":true,"formInput":[{"Action":[{"type":"callAPI","environment":"FINOPS","apiPath":"/v1/RefEmp/GetRefEmpFmsByEmpNo","reqObj":[{"propName":"code","propValue":"EmpNo"}],"bindToVar":[{"variable":"EmpName","value":"EmpName"}],"bindToDict":[{"variable":"EmpName","value":"EmpName"}],"bindToFormArr":[],"condition":[]},{"type":"callAPI","environment":"FINOPS","apiPath":"/v1/OprEmp/GetLimit","reqObj":[{"propName":"PayAllocCode","propValue":"refPaymentAllocCode"},{"propName":"EmpNo","propValue":"EmpNo"},{"propName":"CurrCode","propValue":"CurrCode"},{"propName":"TrxAmt","propValue":"TrxAmt"},{"propName":"EffDt","propValue":"InvoiceDt"}],"bindToVar":[{"variable":"ReqAmt","value":"Amount"}],"bindToDict":[],"bindToFormArr":[],"condition":[{"variable":"EmpNo","restriction":"NEQ","value":""},{"variable":"refPaymentAllocCode","restriction":"NEQ","value":""},{"variable":"TrxAmt","restriction":"GTE","value":"0"}]}],"Type":"DDL","Label":"Employee","Variable":"EmpNo","IsRequired":false,"IsCallback":true,"IsReadonly":false,"IsHide":false,"IsEditable":true,"UseDefaultValue":false,"isUseAPI":true,"DdlItemsObj":null,"DdlReqObj":{"Environment":"FINOPS","Url":"/v1/RefEmp/GetListRefEmpFms","CustomObjName":"ReturnObject","CustomKeyName":"Key","CustomValueName":"Value","ReqObj":{}}},{"Action":[{"type":"callAPI","environment":"FOU","apiPath":"/v1/RefOffice/GetRefOfficeByOfficeCode","reqObj":[{"propName":"Code","propValue":"OfficeCode"}],"bindToVar":[],"bindToDict":[{"variable":"OriginOfficeName","value":"OriginOfficeName"}],"bindToFormArr":[],"condition":[]}],"Type":"DDL","Label":"Origin Office","Variable":"OriginOfficeCode","IsRequired":false,"IsCallback":true,"IsReadonly":false,"IsHide":false,"IsEditable":true,"UseDefaultValue":false,"isUseAPI":true,"DdlItemsObj":null,"DdlReqObj":{"Environment":"FOU","Url":"/v1/RefOffice/GetListKvpActiveRefOffice","CustomObjName":"ReturnObject","CustomKeyName":"Key","CustomValueName":"Value","ReqObj":{}}},{"Action":[{"type":"callAPI","environment":"FOU","apiPath":"/v1/RefBizUnit/GetRefBizUnitByBizUnitCode","reqObj":[{"propName":"Code","propValue":"BizUnitCode"}],"bindToVar":[{"variable":"BizUnitName","value":"BizUnitName"}],"bindToDict":[{"variable":"BizUnitName","value":"BizUnitName"}],"bindToFormArr":[],"condition":[]}],"Type":"DDL","Label":"Business Unit","Variable":"BizUnitCode","IsRequired":false,"IsCallback":true,"IsReadonly":false,"IsHide":false,"IsEditable":true,"UseDefaultValue":false,"isUseAPI":true,"DdlItemsObj":null,"DdlReqObj":{"Environment":"FOU","Url":"/v1/RefBizUnit/GetRefBizUnitActive","CustomObjName":"ReturnObject","CustomKeyName":"Key","CustomValueName":"Value","ReqObj":{}}},{"Action":[{"type":"callAPI","environment":"FINOPS","apiPath":"/v1/OprEmp/GetLimit","reqObj":[{"propName":"PayAllocCode","propValue":"refPaymentAllocCode"},{"propName":"EmpNo","propValue":"EmpNo"},{"propName":"CurrCode","propValue":"CurrCode"},{"propName":"TrxAmt","propValue":"TrxAmt"},{"propName":"EffDt","propValue":"InvoiceDt"}],"bindToVar":[{"variable":"ReqAmt","value":"Amount"}],"bindToDict":[],"bindToFormArr":[],"condition":[{"variable":"EmpNo","restriction":"NEQ","value":""},{"variable":"refPaymentAllocCode","value":""},{"variable":"TrxAmt","restriction":"GTE","value":"0"}]}],"Type":"CURRENCY","Label":"Transaction Amount","Variable":"TrxAmt","Value":"0","IsRequired":false,"IsCallback":true,"IsReadonly":false,"IsHide":false,"IsEditable":true,"Min":"","Max":"","CurrencyMaskConfig":{"precision":"2"}},{"Action":[],"Type":"CURRENCY","Label":"Request Amount","Variable":"ReqAmt","Value":"0","IsRequired":false,"IsCallback":false,"IsReadonly":true,"IsHide":false,"IsEditable":false,"Min":"","Max":"","CurrencyMaskConfig":{"precision":"2"}},{"Action":[],"Type":"TEXTAREA","Label":"Transaction Notes","Variable":"TrxDescr","Value":"","Pattern":"","IsRequired":false,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":true,"Placeholder":""},{"Action":[],"Type":"TEXT","Label":"EmpName","Variable":"EmpName","Value":"","Pattern":"","IsRequired":false,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":false,"Placeholder":""},{"Action":[],"Type":"TEXT","Label":"BizUnitName","Variable":"BizUnitName","Value":"","Pattern":"","IsRequired":false,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":false,"Placeholder":""},{"Action":[],"Type":"TEXT","Label":"OriginOfficeName","Variable":"OriginOfficeName","Value":"","Pattern":"","IsRequired":false,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":false,"Placeholder":""}],"onLoad":[],"criteria":[],"mapCookie":[{"variableName":"EmpNo","cookieName":"RowObj.EmpNo","isEmptyNotFound":true},{"variableName":"OriginOfficeCode","cookieName":"RowObj.OriginOfficeCode","isEmptyNotFound":true},{"variableName":"BizUnitCode","cookieName":"RowObj.BizUnitCode","isEmptyNotFound":true},{"variableName":"TrxAmt","cookieName":"RowObj.TrxAmt","isEmptyNotFound":true},{"variableName":"ReqAmt","cookieName":"RowObj.ReqAmt","isEmptyNotFound":true},{"variableName":"TrxDescr","cookieName":"RowObj.TrxDescr","isEmptyNotFound":true},{"variableName":"EmpName","cookieName":"RowObj.EmpName","isEmptyNotFound":true},{"variableName":"BizUnitName","cookieName":"RowObj.BizUnitName","isEmptyNotFound":true},{"variableName":"OriginOfficeName","cookieName":"RowObj.OriginOfficeName","isEmptyNotFound":true}],"initAction":[]}},"id":"6214e366-5ead-4530-bb82-95bc5c5e46de"},{"form":{"subsection":{"title":"Activity","isVertical":true,"isSubsection":true,"isModeAdd":true,"formInput":[{"Action":[{"type":"callAPI","environment":"FINOPS","apiPath":"/v1/CostAllocSchm/GetCostAllocSchmByParentIdAndChildId","reqObj":[{"propName":"ParentId","propValue":"CostMaster_3"},{"propName":"ChildId","propValue":"CostMaster_4"},{"propName":"CurrCode","propValue":"CurrCode"}],"bindToVar":[{"variable":"AllocName","value":"AllocName"},{"variable":"Coa","value":"Coa"},{"variable":"PaymentAllocCode","value":"PaymentAllocCode"},{"variable":"CoaName","value":"Coa"}],"bindToDict":[{"variable":"PaymentAllocCode","value":"PaymentAllocCode"},{"variable":"AllocName","value":"AllocName"},{"variable":"Coa","value":"Coa"}],"bindToFormArr":[],"condition":[{"variable":"CostMaster_4","restriction":"NEQ","value":""}]},{"type":"callAPI","environment":"FINOPS","apiPath":"/v1/RefCostMasterDObj/GetObjectbyPrimaryKey","reqObj":[{"propName":"Id","propValue":"CostMaster_4"}],"bindToVar":[{"variable":"SubAct","value":"CostMasterName"}],"bindToDict":[{"variable":"SubAct","value":"CostMasterName"}],"bindToFormArr":[],"condition":[{"variable":"CostMaster_4","restriction":"NEQ","value":""}]},{"type":"callAPI","environment":"FINOPS","apiPath":"/v1/RefCostMasterDObj/GetObjectbyPrimaryKey","reqObj":[{"propName":"Id","propValue":"CostMaster_3"}],"bindToVar":[{"variable":"Act","value":"CostMasterName"}],"bindToDict":[{"variable":"Act","value":"CostMasterName"}],"bindToFormArr":[],"condition":[{"variable":"CostMaster_3","restriction":"NEQ","value":""}]},{"type":"callAPI","environment":"FINOPS","apiPath":"/v1/RefCostMasterDObj/GetObjectbyPrimaryKey","reqObj":[{"propName":"Id","propValue":"CostMaster_2"}],"bindToVar":[{"variable":"BusinessAct","value":"CostMasterName"}],"bindToDict":[{"variable":"BusinessAct","value":"CostMasterName"}],"bindToFormArr":[],"condition":[{"variable":"CostMaster_2","restriction":"NEQ","value":""}]},{"type":"callAPI","environment":"FINOPS","apiPath":"/v1/RefCostMasterDObj/GetObjectbyPrimaryKey","reqObj":[{"propName":"Id","propValue":"CostMaster_1"}],"bindToVar":[{"variable":"Business","value":"CostMasterName"}],"bindToDict":[{"variable":"Business","value":"CostMasterName"}],"bindToFormArr":[],"condition":[{"variable":"CostMaster_1","restriction":"NEQ","value":""}]}],"Type":"TREE","Variable":"CostMaster","parentKey":"Id","childKey":"Child","environment":"FINOPS","apiPath":"/v1/CostMaster/GetListCostMasterH","reqObj":[],"customLabelName":"CostMasterLvlName","ddlObj":{"customObjName":"ReturnObject","customKeyName":"RefCostMasterDId","customValueName":"Name","environment":"FINOPS","apiPath":"/v1/CostMaster/GetListCostAllocSchmByParentId","reqObj":[{"propName":"Id","propValue":"refId"}]},"useAttribute":true,"attributeObj":{"variable":"ListAttr","customKeyName":"","customValueName":"","propertyCodeName":"AttrCode","propertyCodeValue":"AttrName","environment":"FOU","apiPath":"/RefAttr/GetListAttrObjByAssetTypeCode","reqObj":[{"propName":"Code","propValue":"CostMasterLvlName_3"}]}},{"Action":[],"Type":"LABEL","Label":"Payment Allocation","Variable":"AllocName","LabelType":"TEXT","Position":"text-left"},{"Action":[],"Type":"LABEL","Label":"COA","Variable":"Coa","LabelType":"TEXT","Position":"text-left"},{"Action":[],"Type":"TEXT","Label":"Activity","Variable":"Act","Value":"","Pattern":"","IsRequired":false,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":false,"Placeholder":""},{"Action":[],"Type":"TEXT","Label":"SubAct","Variable":"SubAct","Value":"","Pattern":"","IsRequired":false,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":false,"Placeholder":""},{"Action":[],"Type":"TEXT","Label":"BusinessAct","Variable":"BusinessAct","Value":"","Pattern":"","IsRequired":false,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":false,"Placeholder":""},{"Action":[],"Type":"TEXT","Label":"PaymentAllocCode","Variable":"PaymentAllocCode","Value":"","Pattern":"","IsRequired":false,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":false,"Placeholder":""},{"Action":[],"Type":"NUMERIC","Label":"AdvPayAllocHId","Variable":"AdvPayAllocHId","Value":"0","IsRequired":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":false,"Min":"","Max":""},{"Action":[],"Type":"NUMERIC","Label":"AdvPayAllocDId","Variable":"AdvPayAllocDId","Value":"0","IsRequired":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":false,"Min":"","Max":""},{"Action":[],"Type":"TEXT","Label":"AllocName","Variable":"AllocName","Value":"","Pattern":"","IsRequired":false,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":false,"Placeholder":""},{"Action":[],"Type":"TEXT","Label":"IsCostDistributedName","Variable":"IsCostDistributedName","Value":"no","Pattern":"","IsRequired":false,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":false,"Placeholder":""},{"Action":[],"Type":"BOOL","Label":"IsDistributedBySchm","Variable":"IsDistributedBySchm","Value":false,"IsRequired":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":false},{"Action":[],"Type":"TEXT","Label":"CoaName","Variable":"CoaName","Value":"","Pattern":"","IsRequired":false,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":false,"Placeholder":""}],"onLoad":[],"criteria":[],"mapCookie":[{"variableName":"Coa","cookieName":"RowObj.Coa","isEmptyNotFound":true},{"variableName":"AllocName","cookieName":"RowObj.AllocName","isEmptyNotFound":true},{"variableName":"Act","cookieName":"RowObj.Act","isEmptyNotFound":true},{"variableName":"SubAct","cookieName":"RowObj.SubAct","isEmptyNotFound":true},{"variableName":"BusinessAct","cookieName":"RowObj.BusinessAct","isEmptyNotFound":true},{"variableName":"PaymentAllocCode","cookieName":"RowObj.PaymentAllocCode","isEmptyNotFound":true},{"variableName":"IsDistributedBySchm","cookieName":"RowObj.IsDistributedBySchm","isEmptyNotFound":true},{"variableName":"IsCostDistributedName","cookieName":"RowObj.IsCostDistributedName","isEmptyNotFound":true},{"variableName":"CostMaster","cookieName":"RowObj.CostMaster","isEmptyNotFound":true}],"initAction":[]}},"id":"c2ed5c35-3147-4072-8b30-952ac4841ff8"},{"attr":{"title":"Attributes","isVertical":false,"isSubsection":false,"variable":"ListAttr","propertyCodeName":"AttrCode","propertyCodeValue":"AttrValue","environment":"FoundationR3Url","apiPath":"/v1/RefPaymentAlloc/GetListRefPaymentAllocAttrByRefPaymentAllocCodeForTemplate","reqObj":[{"propName":"Code","propValue":"refPaymentAllocCode"}],"onLoad":[{"conditions":[],"isUseApi":false,"reqObj":[],"environment":"dicts","apiPath":"RowObj.ListAttr","dataSource":"dicts","propName":"RowObj.ListAttr"}]},"id":"6e135347-6696-42f3-92af-de5d590ecdc7","conditions":[{"property":"refPaymentAllocCode","restriction":"NEQ","value":""},{"property":"form.CostMaster_4","restriction":"NEQ","value":""}]},{"container":{"key":"CostDistKey","className":"AddEditAllocComponent","cssClass":"","input":{"mode":"mode"}},"id":"2028f14c-d0da-413d-87f6-ec6b2b550a5e","conditions":[{"property":"formRaw.OriginOfficeCode","restriction":"EQ","value":"HO"}]}],"serviceUrl":{"add":{"environment":"","apiPath":"","apiUrl":""},"edit":{"environment":"","apiPath":"","apiUrl":""},"createRfa":{"environment":"","apiPath":"","apiUrl":""}},"hideTitle":false,"isRedirect":false,"redirectOption":"","redirectLink":"","hideSubmitButton":false,"listBtn":[],"customToastrMsg":"","onCancel":{},"isOverrideSubmit":false,"isOverrideCancel":false,"onSubmit":[{"conditions":[{"property":"mode","restriction":"EQ","value":"edit"}],"result":{"type":"localStorage","mode":"edit","key":"ReqDetail2.ListAdvPayAllocDObj","backUrl":"/advance-payment-alloc/return/detail/header","mapObj":[],"excObj":[]}},{"conditions":[{"property":"mode","restriction":"NEQ","value":"edit"}],"result":{"type":"localStorage","mode":"add","key":"ReqDetail2.ListAdvPayAllocDObj","backUrl":"/advance-payment-alloc/return/detail/header","mapObj":[],"excObj":[]}}],"hideCancelButton":false,"onInit":[],"conditionalTitle":[],"persistData":false,"persistPropName":"AdvancePaymentAllocReqDetail3"}