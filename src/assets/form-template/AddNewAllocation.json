{"title":"Add New Allocation","hideTitle":false,"id":"AddNewAllocation","addButton":false,"addLink":"","pathOption":"","backButton":false,"component":[{"customComponent":{"componentRef":"${Detailallocationform}"},"id":"dc6fd915-f606-4b37-92b1-6b580676d63a"},{"form":{"subsection":{"title":"Activity","isVertical":true,"isSubsection":true,"isModeAdd":true,"formInput":[{"Action":[{"type":"callAPI","environment":"FINOPS","apiPath":"/v1/CostAllocSchm/GetCostAllocSchmByParentIdAndChildId","reqObj":[{"propName":"ParentId","propValue":"CostMaster_3"},{"propName":"ChildId","propValue":"CostMaster_4"},{"propName":"CurrCode","propValue":"CurrCode"}],"bindToVar":[{"variable":"AllocName","value":"AllocName"},{"variable":"PaymentAllocCode","value":"PaymentAllocCode"}],"bindToDict":[{"variable":"PaymentAllocCode","value":"PaymentAllocCode"},{"variable":"AllocName","value":"AllocName"}],"bindToFormArr":[],"condition":[{"variable":"CostMaster_4","restriction":"NEQ","value":""}]},{"type":"callAPI","environment":"FINOPS","apiPath":"/v1/RefCostMasterDObj/GetObjectbyPrimaryKey","reqObj":[{"propName":"Id","propValue":"CostMaster_4"}],"bindToVar":[{"variable":"SubAct","value":"CostMasterName"}],"bindToDict":[{"variable":"SubAct","value":"CostMasterName"}],"bindToFormArr":[],"condition":[{"variable":"CostMaster_4","restriction":"NEQ","value":""}]},{"type":"callAPI","environment":"FINOPS","apiPath":"/v1/CostAllocSchm/GetCostAllocSchmByParentIdAndChildId","reqObj":[{"propName":"ParentId","propValue":"CostMaster_3"},{"propName":"ChildId","propValue":"CostMaster_4"},{"propName":"CurrCode","propValue":"CurrCode"}],"bindToVar":[{"variable":"AllocName","value":"AllocName"},{"variable":"Coa","value":"Coa"}],"bindToDict":[{"variable":"AllocName","value":"AllocName"},{"variable":"Coa","value":"Coa"}],"bindToFormArr":[],"condition":[{"variable":"CostMaster_4","restriction":"NEQ","value":""}]},{"type":"callAPI","environment":"FINOPS","apiPath":"/v1/RefCostMasterDObj/GetObjectbyPrimaryKey","reqObj":[{"propName":"Id","propValue":"CostMaster_3"}],"bindToVar":[{"variable":"Act","value":"CostMasterName"}],"bindToDict":[{"variable":"Act","value":"CostMasterName"}],"bindToFormArr":[],"condition":[{"variable":"CostMaster_3","restriction":"NEQ","value":""}]},{"type":"callAPI","environment":"FINOPS","apiPath":"/v1/RefCostMasterDObj/GetObjectbyPrimaryKey","reqObj":[{"propName":"Id","propValue":"CostMaster_2"}],"bindToVar":[{"variable":"BusinessAct","value":"CostMasterName"}],"bindToDict":[{"variable":"BusinessAct","value":"CostMasterName"}],"bindToFormArr":[],"condition":[{"variable":"CostMaster_2","restriction":"NEQ","value":""}]}],"Type":"TREE","Variable":"CostMaster","parentKey":"Id","childKey":"Child","environment":"FINOPS","apiPath":"/v1/CostMaster/GetListCostMasterH","reqObj":[],"customLabelName":"CostMasterLvlName","ddlObj":{"customObjName":"ReturnObject","customKeyName":"RefCostMasterDId","customValueName":"Name","apiPath":"/v1/CostMaster/GetListCostAllocSchmByParentId","reqObj":[{"propName":"Id","propValue":"refId"}],"environment":"FINOPS"},"useAttribute":true,"attributeObj":{"variable":"ListAttr"}},{"Action":[],"Type":"TEXT","Label":"PaymentAllocCode","Variable":"PaymentAllocCode","Value":"","Pattern":"","IsRequired":false,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":false,"Placeholder":""},{"Action":[],"Type":"TEXT","Label":"AllocName","Variable":"AllocName","Value":"","Pattern":"","IsRequired":false,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":false,"Placeholder":""},{"Action":[],"Type":"TEXT","Label":"BusinessAct","Variable":"BusinessAct","Value":"","Pattern":"","IsRequired":false,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":false,"Placeholder":""},{"Action":[],"Type":"TEXT","Label":"Act","Variable":"Act","Value":"","Pattern":"","IsRequired":false,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":false,"Placeholder":""},{"Action":[],"Type":"TEXT","Label":"SubAct","Variable":"SubAct","Value":"","Pattern":"","IsRequired":false,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":false,"Placeholder":""},{"Action":[],"Type":"TEXT","Label":"IsCostDistributedName","Variable":"IsCostDistributedName","Value":"no","Pattern":"","IsRequired":false,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":false,"Placeholder":""},{"Action":[],"Type":"BOOL","Label":"IsDistributedBySchm","Variable":"IsDistributedBySchm","Value":false,"IsRequired":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":false}],"onLoad":[{"conditions":[],"isUseApi":false,"reqObj":[],"environment":"dicts","apiPath":"RowObj","dataSource":"dicts","propName":"RowObj"}],"criteria":[],"mapCookie":[{"variableName":"CostMaster","cookieName":"RowObj.CostMaster","isEmptyNotFound":true},{"variableName":"IsDistributedBySchm","cookieName":"IsDistributedBySchm","isEmptyNotFound":true}],"initAction":[]}},"id":"cf8a794a-1439-46e8-90b2-3240be8d166f"},{"attr":{"title":"Attributes","isVertical":false,"isSubsection":false,"variable":"ListAttr","propertyCodeName":"AttrCode","propertyCodeValue":"AttrValue","environment":"FoundationR3Url","apiPath":"/v1/RefPaymentAlloc/GetListRefPaymentAllocAttrByRefPaymentAllocCodeForTemplate","reqObj":[{"propName":"Code","propValue":"refPaymentAllocCode"}],"onLoad":[{"conditions":[],"isUseApi":false,"reqObj":[],"environment":"dicts","apiPath":"RowObj.ListAttr","dataSource":"dicts","propName":"RowObj.ListAttr"}]},"id":"21eb57bf-3048-410d-a471-cd30bc6e50d1","conditions":[{"property":"form.CostMaster_4","restriction":"NEQ","value":""},{"property":"refPaymentAllocCode","restriction":"NEQ","value":""}]},{"container":{"key":"AddEditAllocComponent","className":"AddEditAllocComponent","cssClass":"","input":{"mode":"mode"}},"id":"f4a730a9-802f-4e68-9150-8c8c94389e69","conditions":[{"property":"formRaw.OriginOfficeCode","restriction":"EQ","value":"HO"}]}],"serviceUrl":{"add":{"environment":"","apiPath":"","apiUrl":""},"edit":{"environment":"","apiPath":"","apiUrl":""},"createRfa":{"environment":"","apiPath":"","apiUrl":""}},"isRedirect":false,"redirectOption":"","redirectLink":"","hideSubmitButton":false,"hideCancelButton":false,"listBtn":[],"onInit":[],"isOverrideSubmit":true,"onSubmit":[{"conditions":[],"result":{"type":"switch","cases":[{"conditions":[{"restriction":"LT","value":"100","property":"TotalCurrPrcnt"}],"result":{"type":"toaster","mode":"warning","message":"Total Cost Percentage Must Be 100"}},{"conditions":[{"restriction":"EQ","value":"100","property":"TotalCurrPrcnt"}],"result":{"type":"function","target":"self","alias":"","methodName":"onSubmitModal","params":[]}},{"conditions":[{"restriction":"NEQ","value":"HO","property":"formRaw.OriginOfficeCode"}],"result":{"type":"function","target":"self","alias":"","methodName":"onSubmitModal","params":[]}}]}}],"isOverrideCancel":false,"onCancel":{},"conditionalTitle":[],"persistData":false,"customToastrMsg":"","persistPropName":""}