{"title":"Advance Payment","hideTitle":false,"id":"AdvancePaymentDetail","addButton":false,"addLink":"","pathOption":"","backButton":false,"component":[{"form":{"subsection":{"title":"Advance Payment","isVertical":false,"isSubsection":true,"isModeAdd":true,"formInput":[{"Action":[{"type":"callAPI","environment":"FINOPS","apiPath":"/v1/AdvanceLimit/GetAdvanceLimitObjByEmpNo","reqObj":[{"propName":"EmpNo","propValue":"EmpNo"}],"bindToVar":[{"variable":"LimitAmt","value":"LimitAmt"}],"bindToDict":[]}],"Type":"LOOKUP","Label":"Employee Name","Variable":"EmpNo","IsRequired":true,"IsCallback":true,"IsReadonly":true,"IsHide":false,"IsEditable":false,"IsClear":false,"LookupName":"${LookupRefEmployee}","Criteria":[]},{"Action":[],"Type":"DDL","Label":"Advance Type","Variable":"MrAdvPayTypeCode","IsRequired":true,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":false,"UseDefaultValue":false,"isUseAPI":true,"DdlItemsObj":null,"DdlReqObj":{"Environment":"FOU","Url":"/v1/RefMaster/GetListKeyValueActiveByCode","CustomObjName":"ReturnObject","CustomKeyName":"Key","CustomValueName":"Value","ReqObj":{"RefMasterTypeCode":"ADV_PAY_TYPE"}}},{"Action":[],"Type":"CURRENCY","Label":"Advance Amount","Variable":"AdvPayAmt","Value":"0","IsRequired":true,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":false,"Min":"","Max":"","CurrencyMaskConfig":{"precision":"2"}},{"Action":[],"Type":"TEXT","Label":"Execution At","Variable":"ExecutionAt","Value":"HO","Pattern":"","IsRequired":true,"IsUppercase":false,"IsCallback":false,"IsReadonly":true,"IsHide":false,"IsEditable":false,"Placeholder":""},{"Action":[],"Type":"CURRENCY","Label":"Limit Amount","Variable":"LimitAmt","Value":"0","IsRequired":true,"IsCallback":false,"IsReadonly":true,"IsHide":false,"IsEditable":false,"Min":"","Max":"","CurrencyMaskConfig":{"precision":"2"}},{"Action":[],"Type":"TEXT","Label":"Reference No","Variable":"RefNo","Value":"","Pattern":"","IsRequired":true,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":false,"Placeholder":""},{"Action":[{"type":"bindValue","condition":[{"variable":"CurrCode","restriction":"Eq","value":"IDR"}],"listBind":[{"variable":"CurrRateAmt","value":"1"}],"isRevertable":false},{"type":"disabledField","condition":[{"variable":"CurrCode","restriction":"Eq","value":"IDR"}],"listField":["CurrRateAmt"],"isRevertable":true},{"type":"bindValue","condition":[{"variable":"CurrCode","restriction":"NEQ","value":"IDR"}],"listBind":[{"variable":"CurrRateAmt","value":"0"}],"isRevertable":false}],"Type":"DDL","Label":"Currency","Variable":"CurrCode","IsRequired":true,"IsCallback":true,"IsReadonly":false,"IsHide":false,"IsEditable":false,"UseDefaultValue":false,"isUseAPI":true,"DdlItemsObj":null,"DdlReqObj":{"Environment":"FOU","Url":"/v1/RefCurr/GetListKvpActiveRefCurr","CustomObjName":"ReturnObject","CustomKeyName":"Key","CustomValueName":"Value","ReqObj":{}}},{"Action":[],"Type":"CURRENCY","Label":"Currency Rate","Variable":"CurrRateAmt","Value":"0","IsRequired":true,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":false,"Min":"","Max":"","CurrencyMaskConfig":{"precision":"2"}}],"onLoad":[],"criteria":[],"mapCookie":[],"initAction":[]}},"id":"c4e4cd0b-4d7d-49cc-9799-7bcf5084a627"},{"formarray":{"title":"Estimation Plan","isSubsection":true,"isModeAdd":true,"formGroupName":"ListAdvPaymentTrxDObj","canAdd":true,"isFromApi":false,"resultData":"","customObjName":"","formInput":{"headerList":[{"Label":"Purpose","IsHide":false},{"Label":"Amount","IsHide":false},{"Label":"Notes","IsHide":false}],"bodyList":[{"Type":"TEXT","Label":"Purpose","Variable":"PlanPurpose","Pattern":"","IsRequired":true,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":false,"Placeholder":""},{"Type":"CURRENCY","Label":"Amount","Variable":"Amount","IsRequired":true,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":false,"Min":"","Max":"","CurrencyMaskConfig":{"precision":"2"}},{"Type":"TEXT","Label":"Notes","Variable":"Notes","Pattern":"","IsRequired":true,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":false,"Placeholder":""}],"addBodyList":[],"footerList":[]},"getData":{"environment":"","apiPath":"","reqObj":{}}},"id":"e5433274-dc32-47bb-9b06-4d901532bfa8"},{"approvalcreate":{"categoryCode":"ADV_PAY_CAT","refReasonTypeCode":"ADV_PAY","isHideTrxNo":true,"apvTypecodes":[{"TypeCode":"APV_LIMIT"},{"Attributes[0].AttributeName":"Approval Amount"},{"Attributes[0].AttributeValue":"0"}],"setApprovalObj":{"environment":"ARUrl","apiPath":"/v1/Generic/GetApprovalSchemeByApprovalCategoryCode","reqObj":{"CategoryCode":"ADV_PAY_PRJCT"}},"onSubmit":{"environment":"FinopsUrl","apiPath":"/v1/AdvancePayment/SubmitAdvancePayment","approvalRequestObj":{}},"fromApi":true,"schmCode":""},"id":"08dd345f-37c1-4034-9fd3-ef230fb50f2e","conditions":[{"property":"form.MrAdvPayTypeCode","restriction":"EQ","value":"PRJCT"}]},{"approvalcreate":{"categoryCode":"ADV_PAY_CAT","refReasonTypeCode":"ADV_PAY","isHideTrxNo":true,"apvTypecodes":[{"TypeCode":"APV_LIMIT"},{"Attributes[0].AttributeName":"Approval Amount"},{"Attributes[0].AttributeValue":"0"}],"setApprovalObj":{"environment":"ARUrl","apiPath":"/v1/Generic/GetApprovalSchemeByApprovalCategoryCode","reqObj":{"CategoryCode":"ADV_PAY_REG"}},"onSubmit":{"environment":"FinopsUrl","apiPath":"/v1/AdvancePayment/SubmitAdvancePayment","approvalRequestObj":{}},"fromApi":true,"schmCode":"","onLoad":[]},"id":"353203b3-4cfc-4a99-a4c7-c05e40e472b8","conditions":[{"property":"form.MrAdvPayTypeCode","restriction":"EQ","value":"REG"}]}],"serviceUrl":{"add":{"environment":"","apiPath":"","apiUrl":""},"edit":{"environment":"","apiPath":"","apiUrl":""},"createRfa":{"environment":"","apiPath":"","apiUrl":""}},"isRedirect":false,"redirectOption":"","redirectLink":"","hideSubmitButton":false,"hideCancelButton":false,"listBtn":[],"customToastrMsg":"","onInit":[],"isOverrideSubmit":true,"onSubmit":[{"conditions":[],"result":{"type":"http","environment":"FinopsUrl","path":"/v1/AdvancePayment/SubmitAdvancePayment","reqObj":[{"propName":"EmpNo","propValue":"formRaw.EmpNo"},{"propName":"CurrCode","propValue":"form.CurrCode"},{"propName":"CurrRateAmt","propValue":"formRaw.CurrRateAmt"},{"propName":"AdvPayAmt","propValue":"form.AdvPayAmt"},{"propName":"MrAdvPayTypeCode","propValue":"form.MrAdvPayTypeCode"},{"propName":"RefNo","propValue":"form.RefNo"},{"propName":"ExecutionAt","propValue":"formRaw.ExecutionAt"},{"propName":"ListAdvPaymentTrxDObj","propValue":"form.ListAdvPaymentTrxDObj"},{"propName":"RfaInfo","propValue":"form.RFAInfo"}],"onSuccess":[{"result":{"type":"toaster","mode":"success","message":"Success"},"conditions":[]},{"result":{"type":"link","path":"/Dashboard/Dash-Board","target":"_self","params":[]},"conditions":[]}],"onError":{"type":"toaster","message":""},"mapResToDict":[]}}],"isOverrideCancel":false,"onCancel":{},"conditionalTitle":[]}