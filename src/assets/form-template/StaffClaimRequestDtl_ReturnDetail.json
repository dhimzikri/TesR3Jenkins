{"title":"Staff Claim Summary","id":"StaffClaimRequestDtl_ReturnDetail","addButton":false,"addLink":"","pathOption":"","backButton":false,"component":[{"view":{"subsection":{"subSectionId":"StaffClaimSummaryId","subSectionTitle":"Staff Claim Summary","concatDate":false,"setDate":"","formatDate":"","environment":"FINOPS","apiVersion":"v1","uri":"","mainInfoPath":"/v1/StaffClaim/GetStaffClaimHByRTrxNo","querystring":{"name":""},"reqObj":{"TrxNo":"TrxNo"},"resObjName":"","mainInfo":[{"type":"text","label":"Staff Claim No","property":"StaffClaimNo","position":"left","isHide":false,"customClassLabel":"","customClassProperty":""},{"type":"text","label":"Requestor Name","property":"ReqBy","position":"left","isHide":false,"customClassLabel":"","customClassProperty":""},{"type":"currency","label":"TOTAL INVOICE AMOUNT (in IDR)","property":"TotalInvoiceAmt","precision":"0.2","IsPrcnt":false,"position":"left","isHide":false,"customClassLabel":"","customClassProperty":""},{"type":"currency","label":"Total Request Amount","property":"TotalReqAmt","precision":"0.2","IsPrcnt":false,"position":"left","isHide":false,"customClassLabel":"","customClassProperty":""}],"whereValue":[],"fromValue":[]}},"id":"0f4358c6-7708-4b07-8d42-a46bb757c2d2","conditions":[{"restriction":"IFFOUND","property":"TrxNo"}]},{"form":{"subsection":{"title":"Employee ","isVertical":true,"isSubsection":true,"isModeAdd":true,"formInput":[{"Action":[{"type":"callAPI","environment":"FOU","apiPath":"/v1/RefEmp/GetRefEmpByRefEmpNo","reqObj":[{"propName":"EmpNo","propValue":"EmpNo"}],"bindToVar":[],"bindToDict":[{"variable":"EmpName","value":"EmpName"}],"bindToFormArr":[]}],"Type":"DDL","Label":"Employee Name","Variable":"EmpNo","IsRequired":true,"IsCallback":true,"IsReadonly":false,"IsHide":false,"IsEditable":false,"UseDefaultValue":false,"isUseAPI":true,"DdlItemsObj":null,"DdlReqObj":{"Environment":"FINOPS","Url":"/v1/RefEmp/GetListRefEmpFms","CustomObjName":"ReturnObject","CustomKeyName":"Key","CustomValueName":"Value","ReqObj":{}}}],"onLoad":[],"criteria":[],"mapCookie":[],"initAction":[]}},"id":"47f4e69b-380d-4bd6-ba69-37c391a782f2","conditions":[{"property":"TrxNo","restriction":"IFNOTFOUND","value":""}]},{"table":{"isFromApi":false,"title":"a","resultData":"StaffClaimDObjs","isSubsection":false,"tableInput":{"isSeq":false,"headerList":[{"type":"label","label":"Input Date","position":"center"},{"type":"label","label":"Sub Activity","position":"center"},{"type":"label","label":"Invoice Amount","position":"center"},{"type":"label","label":"Request Amount","position":"center"},{"type":"label","label":"Origin Amount","position":"center"},{"type":"label","label":"Currency / Currency Rates\t","position":"center"},{"type":"label","label":"action","position":"center"}],"bodyList":[{"type":"date","position":"center","property":"InputDt","isFlagColor":false},{"type":"text","position":"left","property":"SubActivity","isFlagColor":false},{"type":"decimal","position":"right","property":"InvoiceAmt","isFlagColor":false,"precision":"0.2","IsPrcnt":false},{"type":"decimal","position":"right","property":"ReqAmt","isFlagColor":false,"precision":"0.2","IsPrcnt":false},{"type":"decimal","position":"right","property":"OriginAmt","isFlagColor":false,"precision":"0.2","IsPrcnt":false},{"type":"text","position":"center","property":"CurrWithRates","isFlagColor":false},{"type":"action","position":"center","action":[{"type":"edit","param":[{"type":"EmpName","property":"EmpName"}],"path":"/BREAD/StaffClaimRequestAddAllocation","icon":""}]}]},"getData":{"environment":"FMSUrl","apiPath":"/v1/StaffClaim/GetListStaffClaimDByTrxNo","customObjName":"StaffClaimDObjs","reqObj":[{"isFromDict":false,"propName":"TrxNo","propValue":"TrxNo"}],"conditions":[]},"usePagination":true},"id":"39565af8-c127-4465-b301-b9daadef6cdd","conditions":[{"property":"EmpName","restriction":"IFFOUND","value":""}],"listBtn":[{"displayName":"Add Allocation","id":"add allocationId","key":"","position":"top","icon":"","cssClass":"btn-primary-2 m-2","conditions":[],"btnType":"button","action":{"type":"modal","width":"85","isTemplate":true,"disableClose":false,"refreshFrom":"fromLocal","affectedTable":"39565af8-c127-4465-b301-b9daadef6cdd","mapToDict":"StaffClaimDObjs","params":[{"propName":"EmpName","propValue":"EmpName"}],"component":"Staffclaimrequestaddallocation"}}]},{"form":{"subsection":{"title":"Final Allocation","isVertical":true,"isSubsection":false,"isModeAdd":true,"formInput":[{"Action":[],"Type":"RADIO","Label":"Final Allocation","Variable":"IsSubmit","IsRequired":true,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":true,"Options":[{"Key":"true","Value":"yes"},{"Key":"false","Value":"no"}]}],"onLoad":[],"criteria":[],"mapCookie":[],"initAction":[{"type":"bindValue","condition":[],"listBind":[{"variable":"IsSubmit","value":"false"}],"isRevertable":false}]}},"id":"f3787e4f-39a2-4044-bba1-698bded82cea"},{"approvalcreate":{"categoryCode":"STAFF_CLAIM_APV","refReasonTypeCode":"STAFF_CLAIM","isHideTrxNo":true,"apvTypecodes":[{"TypeCode":"APV_LIMIT"},{"Attributes[0].AttributeName":"Approval Amount"},{"Attributes[0].AttributeValue":"TotalReqAmt"}],"setApprovalObj":{"environment":"","apiPath":"","reqObj":{}},"onSubmit":{"environment":"FMSUrl","apiPath":"/v1/StaffClaim/SubmitStaffClaim","approvalRequestObj":{}},"fromApi":false,"schmCode":"STAFF_CLAIM_APV_SCHEME"},"id":"9923d249-8e76-4d8a-841d-4fc653142e64","conditions":[{"property":"formRaw.IsSubmit","restriction":"EQ","value":"true"}]}],"serviceUrl":{"add":{"environment":"","apiPath":"","apiUrl":""},"edit":{"environment":"","apiPath":"","apiUrl":""},"createRfa":{"environment":"","apiPath":"","apiUrl":""}},"hideTitle":false,"isRedirect":false,"redirectOption":"","redirectLink":"","hideSubmitButton":false,"listBtn":[],"customToastrMsg":"","onCancel":{},"isOverrideSubmit":true,"isOverrideCancel":false,"onSubmit":[{"conditions":[],"result":{"type":"http","environment":"FMSUrl","path":"/v1/StaffClaim/SubmitStaffClaim","reqObj":[{"propName":"RFAInfo","propValue":"form.RFAInfo"},{"propName":"StaffClaimDObj","propValue":"StaffClaimDObjs"},{"propName":"EmpNo","propValue":"formRaw.EmpNo"},{"propName":"IsSubmit","propValue":"formRaw.IsSubmit"},{"propName":"TrxNo","propValue":"TrxNo"}],"onSuccess":[{"result":{"type":"toaster","mode":"success","message":"Success"},"conditions":[]},{"result":{"type":"link","path":"/staff-claim/paging","target":"_self","params":[]},"conditions":[]}],"onError":{"type":"toaster","message":""},"mapResToDict":[]}}],"hideCancelButton":false,"onInit":[{"environment":"FMSUrl","apiPath":"/v1/StaffClaim/GetStaffClaimListAllocationByClaimNoLinq","reqObj":[{"isFromDict":false,"propName":"TrxNo","propValue":"TrxNo"}],"return":[{"propName":"StaffClaimDObjs","propValue":"StaffClaimDObjs"}],"conditions":[{"property":"TrxNo","restriction":"IFFOUND","value":"TrxNo"}]},{"environment":"FMSUrl","apiPath":"/v1/StaffClaim/GetStaffClaimHByRTrxNo","reqObj":[{"isFromDict":false,"propName":"TrxNo","propValue":"TrxNo"}],"return":[{"propName":"TotalReqAmt","propValue":"TotalReqAmt"}],"conditions":[{"property":"TrxNo","restriction":"IFFOUND","value":"TrxNo"}]}],"conditionalTitle":[],"persistData":false,"persistPropName":""}