{"title":"Add Edit Advance Payment Alloc","hideTitle":false,"id":"AddEditAdvancePaymentAlloc","addButton":false,"addLink":"","pathOption":"","backButton":false,"component":[{"form":{"subsection":{"title":"Detail Allocation","isVertical":true,"isSubsection":true,"isModeAdd":true,"formInput":[{"Action":[{"type":"callAPI","environment":"FINOPS","apiPath":"/v1/RefEmp/GetRefEmpFmsByEmpNo","reqObj":[{"propName":"code","propValue":"EmpNo"}],"bindToVar":[{"variable":"EmpName","value":"EmpName"}],"bindToDict":[{"variable":"EmpName","value":"EmpName"}],"bindToFormArr":[],"condition":[]},{"type":"callAPI","environment":"FINOPS","apiPath":"/v1/OprEmp/GetLimit","reqObj":[{"propName":"PayAllocCode","propValue":"refPaymentAllocCode"},{"propName":"EmpNo","propValue":"EmpNo"},{"propName":"CurrCode","propValue":"CurrCode"},{"propName":"TrxAmt","propValue":"TrxAmt"},{"propName":"EffDt","propValue":"InvoiceDt"}],"bindToVar":[{"variable":"ReqAmt","value":"Amount"}],"bindToDict":[],"bindToFormArr":[],"condition":[{"variable":"EmpNo","restriction":"NEQ","value":""},{"variable":"refPaymentAllocCode","restriction":"NEQ","value":""},{"variable":"TrxAmt","restriction":"GTE","value":"0"}]}],"Type":"DDL","Label":"Employee","Variable":"EmpNo","IsRequired":false,"IsCallback":true,"IsReadonly":false,"IsHide":false,"IsEditable":true,"UseDefaultValue":false,"isUseAPI":true,"DdlItemsObj":null,"DdlReqObj":{"Environment":"FINOPS","Url":"/v1/RefEmp/GetListRefEmpFms","CustomObjName":"ReturnObject","CustomKeyName":"Key","CustomValueName":"Value","ReqObj":{}}},{"Action":[{"type":"callAPI","environment":"FOU","apiPath":"/v1/RefOffice/GetRefOfficeByOfficeCode","reqObj":[{"propName":"Code","propValue":"OriginOfficeCode"}],"bindToVar":[{"variable":"OriginOfficeName","value":"OfficeName"}],"bindToDict":[{"variable":"OriginOfficeName","value":"OfficeName"}],"bindToFormArr":[],"condition":[]},{"type":"cbCallback","key":"OriginOfficeCode"},{"type":"callAPI","environment":"FOU","apiPath":"/v1/RefTaxOffice/GetRefTaxOfficeDetailByRefOfficeCode","reqObj":[{"propName":"Code","propValue":"OriginOfficeCode"}],"bindToVar":[{"variable":"TaxOfficeCode","value":"TaxOfficeCode"}],"bindToDict":[{"variable":"TaxOfficeCode","value":"TaxOfficeCode"}],"bindToFormArr":[],"condition":[]}],"Type":"DDL","Label":"Origin Office","Variable":"OriginOfficeCode","IsRequired":false,"IsCallback":true,"IsReadonly":false,"IsHide":false,"IsEditable":true,"UseDefaultValue":false,"isUseAPI":true,"DdlItemsObj":null,"DdlReqObj":{"Environment":"FOU","Url":"/v1/RefOffice/GetListKvpActiveRefOffice","CustomObjName":"ReturnObject","CustomKeyName":"Key","CustomValueName":"Value","ReqObj":{}}},{"Action":[{"type":"callAPI","environment":"FOU","apiPath":"/v1/RefBizUnit/GetRefBizUnitByBizUnitCode","reqObj":[{"propName":"Code","propValue":"BizUnitCode"}],"bindToVar":[{"variable":"BizUnitName","value":"BizUnitName"}],"bindToDict":[{"variable":"BizUnitName","value":"BizUnitName"}],"bindToFormArr":[],"condition":[]}],"Type":"DDL","Label":"Business Unit","Variable":"BizUnitCode","IsRequired":false,"IsCallback":true,"IsReadonly":false,"IsHide":false,"IsEditable":true,"UseDefaultValue":false,"isUseAPI":true,"DdlItemsObj":null,"DdlReqObj":{"Environment":"FOU","Url":"/v1/RefBizUnit/GetRefBizUnitActive","CustomObjName":"ReturnObject","CustomKeyName":"Key","CustomValueName":"Value","ReqObj":{}}},{"Action":[{"type":"callAPI","environment":"FINOPS","apiPath":"/v1/OprEmp/GetLimit","reqObj":[{"propName":"PayAllocCode","propValue":"refPaymentAllocCode"},{"propName":"EmpNo","propValue":"EmpNo"},{"propName":"CurrCode","propValue":"CurrCode"},{"propName":"TrxAmt","propValue":"TrxAmt"},{"propName":"EffDt","propValue":"InvoiceDt"}],"bindToVar":[{"variable":"ReqAmt","value":"Amount"}],"bindToDict":[],"bindToFormArr":[],"condition":[{"variable":"TrxAmt","restriction":"GTE","value":"0"},{"variable":"EmpNo","restriction":"NEQ","value":""},{"variable":"refPaymentAllocCode","restriction":"NEQ","value":""}]}],"Type":"CURRENCY","Label":"Transaction Amount","Variable":"TrxAmt","Value":"0","IsRequired":false,"IsCallback":true,"IsReadonly":false,"IsHide":false,"IsEditable":true,"Min":"","Max":"","CurrencyMaskConfig":{"precision":"2"}},{"Action":[],"Type":"CURRENCY","Label":"Request Amount","Variable":"ReqAmt","Value":"0","IsRequired":false,"IsCallback":false,"IsReadonly":true,"IsHide":false,"IsEditable":true,"Min":"","Max":"","CurrencyMaskConfig":{"precision":"2"}},{"Action":[],"Type":"TEXTAREA","Label":"Transaction Notes","Variable":"TrxDescr","Value":"","Pattern":"","IsRequired":false,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":true,"Placeholder":""},{"Action":[],"Type":"TEXT","Label":"EmpName","Variable":"EmpName","Value":"","Pattern":"","IsRequired":false,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":false,"Placeholder":""},{"Action":[],"Type":"TEXT","Label":"BizUnitName","Variable":"BizUnitName","Value":"","Pattern":"","IsRequired":false,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":false,"Placeholder":""},{"Action":[],"Type":"TEXT","Label":"OriginOfficeName","Variable":"OriginOfficeName","Value":"","Pattern":"","IsRequired":false,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":false,"Placeholder":""},{"Action":[],"Type":"TEXT","Label":"TaxOfficeCode","Variable":"TaxOfficeCode","Value":"","Pattern":"","IsRequired":false,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":false,"Placeholder":""}],"onLoad":[],"criteria":[],"mapCookie":[{"variableName":"EmpNo","cookieName":"RowObj.EmpNo","isEmptyNotFound":true},{"variableName":"OriginOfficeCode","cookieName":"RowObj.OriginOfficeCode","isEmptyNotFound":true},{"variableName":"BizUnitCode","cookieName":"RowObj.BizUnitCode","isEmptyNotFound":true},{"variableName":"TrxAmt","cookieName":"RowObj.TrxAmt","isEmptyNotFound":true},{"variableName":"ReqAmt","cookieName":"RowObj.ReqAmt","isEmptyNotFound":true},{"variableName":"TrxDescr","cookieName":"RowObj.TrxDescr","isEmptyNotFound":true},{"variableName":"EmpName","cookieName":"RowObj.EmpName","isEmptyNotFound":true},{"variableName":"BizUnitName","cookieName":"RowObj.BizUnitName","isEmptyNotFound":true},{"variableName":"OriginOfficeName","cookieName":"RowObj.OriginOfficeName","isEmptyNotFound":true},{"variableName":"TaxOfficeCode","cookieName":"TaxOfficeCode","isEmptyNotFound":true}],"initAction":[]}},"id":"6214e366-5ead-4530-bb82-95bc5c5e46de"},{"form":{"subsection":{"title":"Activity","isVertical":true,"isSubsection":true,"isModeAdd":true,"formInput":[{"Action":[{"type":"callAPI","environment":"FINOPS","apiPath":"/v1/CostAllocSchm/GetCostAllocSchmByParentIdAndChildId","reqObj":[{"propName":"ParentId","propValue":"CostMaster_3"},{"propName":"ChildId","propValue":"CostMaster_4"},{"propName":"CurrCode","propValue":"CurrCode"}],"bindToVar":[{"variable":"AllocName","value":"AllocName"},{"variable":"PaymentAllocCode","value":"PaymentAllocCode"},{"variable":"Coa","value":"Coa"},{"variable":"CoaName","value":"Coa"}],"bindToDict":[{"variable":"PaymentAllocCode","value":"PaymentAllocCode"},{"variable":"AllocName","value":"AllocName"},{"variable":"Coa","value":"Coa"}],"bindToFormArr":[],"condition":[{"variable":"CostMaster_4","restriction":"NEQ","value":""}]},{"type":"callAPI","environment":"FINOPS","apiPath":"/v1/RefCostMasterDObj/GetObjectbyPrimaryKey","reqObj":[{"propName":"Id","propValue":"CostMaster_4"}],"bindToVar":[{"variable":"SubAct","value":"CostMasterName"}],"bindToDict":[{"variable":"SubAct","value":"CostMasterName"}],"bindToFormArr":[],"condition":[{"variable":"CostMaster_4","restriction":"NEQ","value":""}]},{"type":"callAPI","environment":"FINOPS","apiPath":"/v1/RefCostMasterDObj/GetObjectbyPrimaryKey","reqObj":[{"propName":"Id","propValue":"CostMaster_3"}],"bindToVar":[{"variable":"Act","value":"CostMasterName"}],"bindToDict":[{"variable":"Act","value":"CostMasterName"}],"bindToFormArr":[],"condition":[{"variable":"CostMaster_3","restriction":"NEQ","value":""}]},{"type":"callAPI","environment":"FINOPS","apiPath":"/v1/RefCostMasterDObj/GetObjectbyPrimaryKey","reqObj":[{"propName":"Id","propValue":"CostMaster_2"}],"bindToVar":[{"variable":"BusinessAct","value":"CostMasterName"}],"bindToDict":[{"variable":"BusinessAct","value":"CostMasterName"}],"bindToFormArr":[],"condition":[{"variable":"CostMaster_2","restriction":"NEQ","value":""}]},{"type":"callAPI","environment":"FINOPS","apiPath":"/v1/RefCostMasterDObj/GetObjectbyPrimaryKey","reqObj":[{"propName":"Id","propValue":"CostMaster_1"}],"bindToVar":[{"variable":"Business","value":"CostMasterName"}],"bindToDict":[{"variable":"Business","value":"CostMasterName"}],"bindToFormArr":[],"condition":[{"variable":"CostMaster_1","restriction":"NEQ","value":""}]},{"type":"cbCallback","key":"CostMaster"}],"Type":"TREE","Variable":"CostMaster","parentKey":"Id","childKey":"Child","environment":"FINOPS","apiPath":"/v1/CostMaster/GetListCostMasterH","reqObj":[],"customLabelName":"CostMasterLvlName","ddlObj":{"customObjName":"ReturnObject","customKeyName":"RefCostMasterDId","customValueName":"Name","environment":"FINOPS","apiPath":"/v1/CostMaster/GetListCostAllocSchmByParentId","reqObj":[{"propName":"Id","propValue":"refId"}]},"useAttribute":true,"attributeObj":{"variable":"ListAttr","customKeyName":"","customValueName":"","propertyCodeName":"AttrCode","propertyCodeValue":"AttrName","environment":"FOU","apiPath":"/RefAttr/GetListAttrObjByAssetTypeCode","reqObj":[{"propName":"Code","propValue":"CostMasterLvlName_3"}]}},{"Action":[],"Type":"LABEL","Label":"Payment Allocation","Variable":"AllocName","LabelType":"TEXT","Position":"text-left"},{"Action":[],"Type":"LABEL","Label":"COA","Variable":"Coa","LabelType":"TEXT","Position":"text-left"},{"Action":[],"Type":"TEXT","Label":"Activity","Variable":"Act","Value":"","Pattern":"","IsRequired":false,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":false,"Placeholder":""},{"Action":[],"Type":"TEXT","Label":"SubAct","Variable":"SubAct","Value":"","Pattern":"","IsRequired":false,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":false,"Placeholder":""},{"Action":[],"Type":"TEXT","Label":"BusinessAct","Variable":"BusinessAct","Value":"","Pattern":"","IsRequired":false,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":false,"Placeholder":""},{"Action":[],"Type":"TEXT","Label":"PaymentAllocCode","Variable":"PaymentAllocCode","Value":"","Pattern":"","IsRequired":false,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":false,"Placeholder":""},{"Action":[],"Type":"NUMERIC","Label":"AdvPayAllocHId","Variable":"AdvPayAllocHId","Value":"0","IsRequired":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":false,"Min":"","Max":""},{"Action":[],"Type":"NUMERIC","Label":"AdvPayAllocDId","Variable":"AdvPayAllocDId","Value":"0","IsRequired":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":false,"Min":"","Max":""},{"Action":[],"Type":"TEXT","Label":"AllocName","Variable":"AllocName","Value":"","Pattern":"","IsRequired":false,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":false,"Placeholder":""},{"Action":[],"Type":"TEXT","Label":"IsCostDistributedName","Variable":"IsCostDistributedName","Value":"no","Pattern":"","IsRequired":false,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":false,"Placeholder":""},{"Action":[],"Type":"BOOL","Label":"IsDistributedBySchm","Variable":"IsDistributedBySchm","Value":false,"IsRequired":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":false},{"Action":[],"Type":"TEXT","Label":"CoaName","Variable":"CoaName","Value":"","Pattern":"","IsRequired":false,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":false,"Placeholder":""},{"Action":[],"Type":"TEXT","Label":"MrTaxCalcMethodCode","Variable":"MrTaxCalcMethodCode","Value":"","Pattern":"","IsRequired":false,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":false,"Placeholder":""}],"onLoad":[{"conditions":[],"isUseApi":false,"reqObj":[],"environment":"dicts","apiPath":"RowObj","dataSource":"dicts","propName":"RowObj"}],"criteria":[],"mapCookie":[{"variableName":"CoaName","cookieName":"RowObj.Coa","isEmptyNotFound":false}],"initAction":[]}},"id":"c2ed5c35-3147-4072-8b30-952ac4841ff8","conditions":[]},{"attr":{"title":"Attributes","isVertical":false,"isSubsection":false,"variable":"ListAttr","propertyCodeName":"AttrCode","propertyCodeValue":"AttrValue","environment":"FoundationR3Url","apiPath":"/v1/RefPaymentAlloc/GetListRefPaymentAllocAttrByRefPaymentAllocCodeForTemplate","reqObj":[{"propName":"Code","propValue":"refPaymentAllocCode"}],"onLoad":[{"conditions":[],"isUseApi":false,"reqObj":[],"environment":"dicts","apiPath":"RowObj.ListAttr","dataSource":"dicts","propName":"RowObj.ListAttr"}]},"id":"6e135347-6696-42f3-92af-de5d590ecdc7","conditions":[{"property":"form.CostMaster_4","restriction":"NEQ","value":""},{"property":"refPaymentAllocCode","restriction":"NEQ","value":""}]},{"form":{"subsection":{"title":"Tax Calculation","isVertical":true,"isSubsection":true,"isModeAdd":true,"formInput":[{"Action":[],"Type":"DDL","Label":"Tax Withholding Method","Variable":"MrTaxCalcMethodCode","IsRequired":true,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":false,"UseDefaultValue":false,"isUseAPI":true,"DdlItemsObj":null,"DdlReqObj":{"Environment":"FOU","Url":"/v1/RefMaster/GetListKeyValueActiveByCode","CustomObjName":"ReturnObject","CustomKeyName":"Key","CustomValueName":"Value","ReqObj":{"refMasterTypeCode":"TAX_CALC_METHOD"}}},{"Action":[],"Type":"CURRENCY","Label":"Taxable Amount","Variable":"TaxableAmt","Value":"","IsRequired":true,"IsCallback":true,"IsReadonly":false,"IsHide":false,"IsEditable":true,"Min":"","Max":"","CurrencyMaskConfig":{"precision":"2"}},{"Action":[{"type":"callAPI","environment":"TAX","apiPath":"/v3/TaxCalculation/SaveAndCalculateTaxForTemplate","reqObj":[{"propName":"TaxPayerNo","propValue":"TaxPayerNo"},{"propName":"TrxDt","propValue":"InvoiceDt"},{"propName":"TrxAmt","propValue":"TaxableAmt"},{"propName":"RefNo","propValue":"InvoiceNo"},{"propName":"TrxTypeCode","propValue":"ADV_PAY_ALLOC"},{"propName":"CurrCode","propValue":"CurrCode"},{"propName":"OfficeCode","propValue":"OriginOfficeCode"},{"propName":"ExchangeRateAmt","propValue":"CurrRateAmt"},{"propName":"TaxSchmCode","propValue":"MrTaxPgrsvSchemeCode"},{"propName":"WhtTaxTypeCode","propValue":"WhtTypeCode"},{"propName":"VatTaxTypeCode","propValue":"VatTypeCode"},{"propName":"MrTaxCalcMethodCode","propValue":"MrTaxCalcMethodCode"},{"propName":"IsSave","propValue":"true"},{"propName":"TaxOfficeCode","propValue":"TaxOfficeCode"}],"bindToVar":[{"variable":"AmtAfterTax","value":"TaxTrxH.TotalTrxAmtAfterTaxAmt"},{"variable":"AmtBeforeTax","value":"TaxTrxH.TrxAmt"},{"variable":"VatAmt","value":"TaxTrxH.VatDObj.TaxAmt"},{"variable":"WhtAmt","value":"TaxTrxH.WhtDObj.TaxAmt"}],"bindToDict":[{"variable":"AmtAfterTax","value":"TaxTrxH.TotalTrxAmtAfterTaxAmt"},{"variable":"AmtBeforeTax","value":"TaxTrxH.TrxAmt"},{"variable":"IsCalculated","value":"true"},{"variable":"WhtAmt","value":"TaxTrxH.WhtDObj.TaxAmt"},{"variable":"VatAmt","value":"TaxTrxH.VatDObj.TaxAmt"}],"bindToFormArr":[],"condition":[]}],"Type":"BUTTON","IsCallback":true,"DisplayName":"Calculate Tax","Icon":"","Position":"text-right"},{"Action":[],"Type":"TEXT","Label":"MrTaxPgrsvSchemeCode","Variable":"MrTaxPgrsvSchemeCode","Value":"","Pattern":"","IsRequired":false,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":false,"Placeholder":""}],"onLoad":[{"conditions":[],"isUseApi":false,"reqObj":[],"environment":"dicts","apiPath":"RowObj","dataSource":"dicts","propName":"RowObj"}],"criteria":[],"mapCookie":[{"variableName":"MrTaxPgrsvSchemeCode","cookieName":"MrTaxPgrsvSchemeCode_","isEmptyNotFound":true}],"initAction":[{"type":"bindValue","condition":[{"variable":"MrTaxCalcMethodCodeDicts","restriction":"NEQ","value":""},{"variable":"mode","restriction":"NEQ","value":"edit"}],"listBind":[{"variable":"MrTaxCalcMethodCode","value":"MrTaxCalcMethodCodeDicts"},{"variable":"MrTaxPgrsvSchemeCode","value":"MrTaxPgrsvSchemeCode_"}],"isRevertable":true}]}},"id":"37798db9-3240-46ca-9481-a3bc4874ca6b"},{"form":{"subsection":{"title":"VAT (PPN)","isVertical":false,"isSubsection":true,"isModeAdd":true,"formInput":[{"Action":[{"type":"disabledField","condition":[{"variable":"IsVat","restriction":"NEQ","value":"true"}],"listField":["VatTypeCode","VatTaxableAmt"],"isRevertable":true},{"type":"requiredField","condition":[{"variable":"IsVat","restriction":"Eq","value":"true"}],"listField":["VatTaxableAmt","VatTypeCode"],"isRevertable":true}],"Type":"DDL","Label":"Subject To VAT","Variable":"IsVat","IsRequired":true,"IsCallback":true,"IsReadonly":false,"IsHide":false,"IsEditable":false,"UseDefaultValue":false,"isUseAPI":false,"DdlItemsObj":[{"Key":"true","Value":"Yes"},{"Key":"false","Value":"No"}],"DdlReqObj":null},{"Action":[],"Type":"DDL","Label":"VAT Type","Variable":"VatTypeCode","IsRequired":false,"IsCallback":true,"IsReadonly":false,"IsHide":false,"IsEditable":true,"UseDefaultValue":false,"isUseAPI":true,"DdlItemsObj":null,"DdlReqObj":{"Environment":"TAX","Url":"/v1/TaxCalculation/GetListTaxTypeByTaxSchmCodeVat","CustomObjName":"ReturnObject","CustomKeyName":"TaxTypeCode","CustomValueName":"TaxTypeName","ReqObj":{"Code":"MrTaxPgrsvSchemeCode_"}}},{"Action":[],"Type":"CURRENCY","Label":"VAT Amount","Variable":"VatAmt","Value":"0","IsRequired":false,"IsCallback":false,"IsReadonly":true,"IsHide":false,"IsEditable":false,"Min":"","Max":"","CurrencyMaskConfig":{"precision":"2"}},{"Action":[],"Type":"CURRENCY","Label":"Taxable Amount","Variable":"VatTaxableAmt","Value":"0","IsRequired":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":false,"Min":"","Max":"","CurrencyMaskConfig":{"precision":"2"}}],"onLoad":[{"conditions":[],"isUseApi":false,"reqObj":[],"environment":"dicts","apiPath":"RowObj","dataSource":"dicts","propName":"RowObj"}],"criteria":[],"mapCookie":[],"initAction":[{"type":"bindValue","condition":[{"variable":"VendorId","restriction":"NEQ","value":"0"},{"variable":"MrTaxCalcMethodCode","restriction":"NEQ","value":""},{"variable":"mode","restriction":"NEQ","value":"edit"}],"listBind":[{"variable":"IsVat","value":"IsVatStat"}],"isRevertable":true},{"type":"disabledField","condition":[{"variable":"IsVatStat","restriction":"NEQ","value":"true"}],"listField":["VatTaxableAmt","VatTypeCode"],"isRevertable":true},{"type":"requiredField","condition":[{"variable":"SubjecToVat","restriction":"Eq","value":"true"}],"listField":["VatTaxableAmt","VatTypeCode"],"isRevertable":true},{"type":"enabledField","condition":[{"variable":"IsVat","restriction":"Eq","value":"true"}],"listField":["VatTypeCode","VatTaxableAmt"],"isRevertable":true}]}},"id":"07b4ad5a-b750-4a50-9754-ccc9f699e73b"},{"form":{"subsection":{"title":"Income Tax (PPH)","isVertical":false,"isSubsection":true,"isModeAdd":true,"formInput":[{"Action":[{"type":"enabledField","condition":[{"variable":"IsWht","restriction":"Eq","value":"true"}],"listField":["WhtTaxableAmt","WhtTypeCode","MrIncomeTypeCode"],"isRevertable":true},{"type":"requiredField","condition":[{"variable":"IsWht","restriction":"Eq","value":"true"}],"listField":["WhtTaxableAmt","WhtTypeCode","MrIncomeTypeCode"],"isRevertable":true}],"Type":"DDL","Label":"Subject to Tax","Variable":"IsWht","IsRequired":true,"IsCallback":true,"IsReadonly":false,"IsHide":false,"IsEditable":true,"UseDefaultValue":false,"isUseAPI":false,"DdlItemsObj":[{"Key":"true","Value":"yes"},{"Key":"false","Value":"no"}],"DdlReqObj":null},{"Action":[],"Type":"DDL","Label":"Tax Type","Variable":"WhtTypeCode","IsRequired":false,"IsCallback":true,"IsReadonly":false,"IsHide":false,"IsEditable":true,"UseDefaultValue":false,"isUseAPI":true,"DdlItemsObj":null,"DdlReqObj":{"Environment":"TAX","Url":"/v1/TaxCalculation/GetListTaxTypeByTaxSchmCodeWht","CustomObjName":"ReturnObject","CustomKeyName":"TaxTypeCode","CustomValueName":"TaxTypeName","ReqObj":{"code":"MrTaxPgrsvSchemeCode_"}}},{"Action":[],"Type":"TEXT","Label":"Text Income Type","Variable":"MrIncomeTypeCode","Value":"","Pattern":"","IsRequired":true,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":true,"Placeholder":""},{"Action":[],"Type":"CURRENCY","Label":"Tax Income Amount","Variable":"WhtAmt","Value":"0","IsRequired":false,"IsCallback":false,"IsReadonly":true,"IsHide":false,"IsEditable":false,"Min":"","Max":"","CurrencyMaskConfig":{"precision":"2"}},{"Action":[],"Type":"CURRENCY","Label":"Taxable Amount ","Variable":"WhtTaxableAmt","Value":"0","IsRequired":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":false,"Min":"","Max":"","CurrencyMaskConfig":{"precision":"2"}}],"onLoad":[{"conditions":[],"isUseApi":false,"reqObj":[],"environment":"dicts","apiPath":"RowObj","dataSource":"dicts","propName":"RowObj"}],"criteria":[],"mapCookie":[],"initAction":[{"type":"disabledField","condition":[{"variable":"IsWht","restriction":"Eq","value":""}],"listField":["WhtTaxableAmt","WhtTypeCode","MrIncomeTypeCode"],"isRevertable":true},{"type":"requiredField","condition":[{"variable":"IsWht","restriction":"Eq","value":"true"}],"listField":["WhtTaxableAmt","WhtTypeCode","MrIncomeTypeCode"],"isRevertable":true}]}},"id":"57e19a17-9223-463d-a732-df2e63500137"},{"form":{"subsection":{"title":"","isVertical":true,"isSubsection":false,"isModeAdd":true,"formInput":[{"Action":[],"Type":"CURRENCY","Label":"Amount Before Tax","Variable":"AmtBeforeTax","Value":"0","IsRequired":false,"IsCallback":false,"IsReadonly":true,"IsHide":false,"IsEditable":false,"Min":"","Max":"","CurrencyMaskConfig":{"precision":"2"}},{"Action":[],"Type":"CURRENCY","Label":"Amount After Tax","Variable":"AmtAfterTax","Value":"0","IsRequired":false,"IsCallback":false,"IsReadonly":true,"IsHide":false,"IsEditable":false,"Min":"","Max":"","CurrencyMaskConfig":{"precision":"2"}}],"onLoad":[{"conditions":[],"isUseApi":false,"reqObj":[],"environment":"dicts","apiPath":"RowObj","dataSource":"dicts","propName":"RowObj"}],"criteria":[],"mapCookie":[],"initAction":[]}},"id":"38e48c14-c9d4-447d-94c7-f3ab659584b1"},{"container":{"key":"CostDistKey","className":"AddEditAllocComponent","cssClass":"","input":{"mode":"mode"}},"id":"2028f14c-d0da-413d-87f6-ec6b2b550a5e","conditions":[{"property":"formRaw.OriginOfficeCode","restriction":"EQ","value":"HO"}]}],"serviceUrl":{"add":{"environment":"","apiPath":"","apiUrl":""},"edit":{"environment":"","apiPath":"","apiUrl":""},"createRfa":{"environment":"","apiPath":"","apiUrl":""}},"isRedirect":false,"redirectOption":"","redirectLink":"","hideSubmitButton":false,"hideCancelButton":false,"listBtn":[],"onInit":[{"environment":"FoundationR3Url","apiPath":"/v1/Vendor/GetVendorByVendorId","reqObj":[{"isFromDict":false,"propName":"Id","propValue":"VendorId"}],"return":[{"propName":"MrTaxCalcMethodCodeDicts","propValue":"MrTaxCalcMethodCode"},{"propName":"IsVatStat","propValue":"IsVat"},{"propName":"MrTaxPgrsvSchemeCode_","propValue":"MrTaxPgrsvSchemeCode"},{"propName":"TaxPayerNo","propValue":"TaxpayerNo"}],"conditions":[{"property":"VendorId","restriction":"NEQ","value":""},{"property":"VendorId","restriction":"IFFOUND","value":""}]},{"environment":"FoundationR3Url","apiPath":"/v1/RefTaxOffice/GetRefTaxOfficeDetailByRefOfficeCode","reqObj":[{"isFromDict":false,"propName":"Code","propValue":"RowObj.OriginOfficeCode"}],"return":[{"propName":"TaxOfficeCode","propValue":"TaxOfficeCode"}],"conditions":[{"property":"mode","restriction":"EQ","value":"edit"}]}],"isOverrideSubmit":true,"onSubmit":[{"conditions":[],"result":{"type":"switch","cases":[{"conditions":[{"restriction":"LT","value":"100","property":"TotalCurrPrcnt"}],"result":{"type":"toaster","mode":"warning","message":"Total Cost Percentage Must Be 100"}},{"conditions":[{"restriction":"EQ","value":"100","property":"TotalCurrPrcnt"},{"property":"IsCalculated","restriction":"EQ","value":"true"}],"result":{"type":"function","target":"self","alias":"","methodName":"onSubmitModal","params":[]}},{"conditions":[{"restriction":"NEQ","value":"HO","property":"formRaw.OriginOfficeCode"},{"property":"IsCalculated","restriction":"EQ","value":"true"}],"result":{"type":"function","target":"self","alias":"","methodName":"onSubmitModal","params":[]}},{"conditions":[{"property":"IsCalculated","restriction":"NEQ","value":"true"}],"result":{"type":"toaster","mode":"warning","message":"Not Yet Calculated"}}]}}],"isOverrideCancel":false,"onCancel":{},"conditionalTitle":[],"customToastrMsg":"","persistData":false,"persistPropName":"AdvancePaymentAllocReqDetail3"}