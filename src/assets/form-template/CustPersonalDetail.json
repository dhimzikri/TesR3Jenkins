{"title":"Cust Personal Detail","hideTitle":true,"id":"CustPersonalDetail","addButton":false,"addLink":"","pathOption":"","backButton":false,"component":[{"form":{"subsection":{"title":"Main Info","isVertical":false,"isSubsection":true,"isModeAdd":false,"formInput":[{"Action":[],"Type":"LABEL","Label":"Full Name","Variable":"CustName","LabelType":"TEXT","Position":"text-left"},{"Action":[],"Type":"DDL","Label":"Salutation","Variable":"MrSalutationCode","IsRequired":true,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":true,"UseDefaultValue":false,"isUseAPI":true,"DdlItemsObj":null,"DdlReqObj":{"Environment":"FOU","Url":"/v1/RefMaster/GetListKeyValueActiveByCode","CustomObjName":"ReturnObject","CustomKeyName":"Key","CustomValueName":"Value","ReqObj":{"RefMasterTypeCode":"SALUTATION"}}},{"Action":[],"Type":"TEXT","Label":"Nick Name","Variable":"NickName","Value":"","Pattern":"","IsRequired":false,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":true,"Placeholder":""},{"Action":[],"Type":"TEXT","Label":"Gelar Depan Nama","Variable":"CustPrefixName","Value":"","Pattern":"","IsRequired":false,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":true,"Placeholder":""},{"Action":[],"Type":"NUMERIC","Label":"Num Of Dependents","Variable":"NoOfDependents","Value":"","IsRequired":false,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":true,"Min":"","Max":""},{"Action":[],"Type":"TEXT","Label":"Gelar Depan Belakang","Variable":"CustSuffixName","Value":"","Pattern":"","IsRequired":false,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":true,"Placeholder":""},{"Action":[],"Type":"NUMERIC","Label":"Num Of Residence (Last 3 Years)","Variable":"NoOfResidence","Value":"0","IsRequired":false,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":true,"Min":"","Max":""},{"Action":[{"type":"bindValue","condition":{"variable":"MrNationalityCode","restriction":"NEQ","value":"LOCAL"},"listBind":[{"variable":"WnaCountryName","value":""},{"variable":"WnaCountryCode","value":""}],"isRevertable":true},{"type":"bindValue","condition":{"variable":"MrNationalityCode","restriction":"Eq","value":"LOCAL"},"listBind":[{"variable":"WnaCountryCode","value":"INA"},{"variable":"WnaCountryName","value":"INDONESIA"}],"isRevertable":true},{"type":"disabledField","condition":{"variable":"MrNationalityCode","restriction":"Eq","value":"LOCAL"},"listField":["WnaCountryName"],"isRevertable":true},{"type":"showField","condition":{"variable":"MrNationalityCode","restriction":"Eq","value":"LOCAL"},"listField":["WnaCountryCode"],"isRevertable":true},{"type":"hideField","condition":{"variable":"MrNationalityCode","restriction":"NEQ","value":"LOCAL"},"listField":["WnaCountryCode"],"isRevertable":true},{"type":"hideField","condition":{"variable":"MrNationalityCode","restriction":"Eq","value":"LOCAL"},"listField":["WnaCountryName"],"isRevertable":true}],"Type":"DDL","Label":"Nationality","Variable":"MrNationalityCode","IsRequired":true,"IsCallback":true,"IsReadonly":false,"IsHide":false,"IsEditable":true,"UseDefaultValue":true,"isUseAPI":true,"DdlItemsObj":null,"DdlReqObj":{"Environment":"FOU","Url":"/v1/RefMaster/GetListKeyValueActiveByCode","CustomObjName":"ReturnObject","CustomKeyName":"Key","CustomValueName":"Value","ReqObj":{"RefMasterTypeCode":"NATIONALITY"}}},{"Action":[],"Type":"TEXT","Label":"Family Card Num","Variable":"FamilyCardNo","Value":"","Pattern":"^[0-9]+$","IsRequired":false,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":true,"Placeholder":""},{"Action":[{"type":"bindValue","condition":{"variable":"WnaCountryName","restriction":"NEQ","value":""},"listBind":[{"variable":"WnaCountryCode","value":"LookupEv.CountryCode"}],"isRevertable":true}],"Type":"LOOKUP","Label":"Country","Variable":"WnaCountryName","IsRequired":false,"IsCallback":true,"IsReadonly":true,"IsHide":false,"IsEditable":true,"IsClear":false,"LookupName":"${Lookupcustomercountry}","Criteria":[{"propName":"COUNTRY_CODE","restriction":"NEQ","value":"INA","isFromDict":false}],"pagingInput":{"lookupId":"Lookupcustomercountry","title":"Lookup - Country","component":[{"id":"countryCodeSearchId","type":"textbox","label":"Country Code","name":"COUNTRY_CODE","value":"","placeholder":"","datatype":"text"},{"id":"countryNameSearchId","type":"textbox","label":"Country Name","name":"COUNTRY_NAME","value":"","placeholder":"","datatype":"text"}],"querystring":{"name":"lookupCustomerCountry"},"orderby":null,"headerList":[{"type":"sort","label":"Country Code","position":"left","name":"COUNTRY_CODE"},{"type":"sort","label":"Country Name","position":"left","name":"COUNTRY_NAME"},{"type":"label","position":"center","label":"Select"}],"bodyList":[{"type":"text","position":"left","property":"CountryCode"},{"type":"text","position":"left","property":"CountryName"},{"type":"action","position":"center","action":[{"type":"select","property":"RefCountryId"}]}],"propertyId":"CountryCode","propertyName":"CountryName","environment":"FoundationR3Url","apiVersion":"v1"}},{"Action":[],"Type":"DDL","Label":"Country","Variable":"WnaCountryCode","IsRequired":false,"IsCallback":false,"IsReadonly":true,"IsHide":false,"IsEditable":true,"UseDefaultValue":false,"isUseAPI":false,"DdlItemsObj":[{"Key":"INA","Value":"INDONESIA"}],"DdlReqObj":null},{"Action":[],"Type":"BOOL","Label":"Rest In Peace","Variable":"IsRestInPeace","Value":false,"IsRequired":false,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":true},{"Action":[],"Type":"DDL","Label":"Education","Variable":"MrEducationCode","IsRequired":true,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":true,"UseDefaultValue":false,"isUseAPI":true,"DdlItemsObj":null,"DdlReqObj":{"Environment":"FOU","Url":"/v1/RefMaster/GetListKeyValueActiveByCode","CustomObjName":"ReturnObject","CustomKeyName":"Key","CustomValueName":"Value","ReqObj":{"RefMasterTypeCode":"EDUCATION"}}},{"Action":[{"type":"disabledField","condition":{"variable":"IsVip","restriction":"Eq","value":"false"},"listField":["VipNotes"]},{"type":"bindValue","condition":{"variable":"IsVip","restriction":"NEQ","value":"true"},"listBind":[{"variable":"VipNotes","value":""}],"isRevertable":false}],"Type":"BOOL","Label":"VIP","Variable":"IsVip","Value":false,"IsRequired":false,"IsCallback":true,"IsReadonly":false,"IsHide":false,"IsEditable":true},{"Action":[],"Type":"DDL","Label":"Religion","Variable":"MrReligionCode","IsRequired":true,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":true,"UseDefaultValue":false,"isUseAPI":true,"DdlItemsObj":null,"DdlReqObj":{"Environment":"FOU","Url":"/v1/RefMaster/GetListKeyValueActiveByCode","CustomObjName":"ReturnObject","CustomKeyName":"Key","CustomValueName":"Value","ReqObj":{"RefMasterTypeCode":"RELIGION"}}},{"Action":[],"Type":"BOOL","Label":"Affiliation with Multifinance","Variable":"IsAffiliateWithMf","Value":false,"IsRequired":false,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":true},{"Action":[],"Type":"TEXTAREA","Label":"VIP Notes","Variable":"VipNotes","Value":"","Pattern":"","IsRequired":false,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":true,"Placeholder":""},{"Action":[{"type":"bindValue","condition":{"variable":"ParentCustName","restriction":"NEQ","value":""},"listBind":[{"variable":"ParentCustId","value":"LookupEv.CustId"}],"isRevertable":true}],"Type":"LOOKUP","Label":"Debtor Group","Variable":"ParentCustName","IsRequired":false,"IsCallback":true,"IsReadonly":true,"IsHide":false,"IsEditable":true,"IsClear":true,"LookupName":"${Lookupcustomer}","Criteria":[{"propName":"C.CUST_NO","restriction":"NEQ","value":"CustNo","isFromDict":true}],"pagingInput":{"lookupId":"Lookupcustomer","title":"Lookup - Debtor","component":[{"id":"ccustNoSearchId","type":"textbox","label":"Debtor No","name":"C.CUST_NO","value":"","placeholder":"","datatype":"text"},{"id":"ccustNameSearchId","type":"textbox","label":"Debtor Name","name":"C.CUST_NAME","value":"","placeholder":"","datatype":"text"},{"id":"baddrSearchId","type":"textbox","label":"Address","name":"B.ADDR","value":"","placeholder":"","datatype":"text"},{"id":"cgccustNameSearchId","type":"textbox","label":"Debtor Group Name","name":"CGC.CUST_NAME","value":"","placeholder":"","datatype":"text"}],"querystring":{"name":"lookupCustomer"},"orderby":null,"headerList":[{"type":"sort","label":"Debtor No","position":"left","name":"C.CUST_NO"},{"type":"sort","label":"Debtor Name","position":"left","name":"C.CUST_NAME"},{"type":"sort","label":"FullAddr","position":"left","name":"B.ADDR"},{"type":"sort","label":"Debtor Group Name","position":"left","name":"CGC.CUST_NAME"},{"type":"label","position":"center","label":"Select"}],"bodyList":[{"type":"text","position":"left","property":"CustNo"},{"type":"text","position":"left","property":"CustName"},{"type":"text","position":"left","property":"Address"},{"type":"text","position":"left","property":"CustGroupName"},{"type":"action","position":"center","action":[{"type":"select","property":"CustNo"}]}],"propertyId":"CustId","propertyName":"CustName","environment":"FoundationR3Url","apiVersion":"v1"}},{"Action":[],"Type":"NUMERIC","Label":"Parent Cust Id","Variable":"ParentCustId","Value":"0","IsRequired":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":true,"Min":"","Max":""}],"onLoad":[{"environment":"FoundationR3Url","apiPath":"/v1/Cust/GetCustByCustId","reqObj":[{"propName":"Id","propValue":"IdCust","isFromDict":true}],"mapRes":[{"accessorName":"CustName","variableName":"CustName"},{"accessorName":"IsVip","variableName":"IsVip"},{"accessorName":"VipNotes","variableName":"VipNotes"}]},{"environment":"FoundationR3Url","apiPath":"/v1/CustPersonal/GetCustPersonalByCustId","reqObj":[{"propName":"Id","propValue":"IdCust","isFromDict":true}],"mapRes":[],"action":[{"type":"disabledField","condition":{"variable":"IsVip","restriction":"NEQ","value":"true"},"listField":["VipNotes"],"isRevertable":false},{"type":"disabledField","condition":{"variable":"MrNationalityCode","restriction":"Eq","value":"LOCAL"},"listField":["WnaCountryName"],"isRevertable":false},{"type":"hideField","condition":{"variable":"MrNationalityCode","restriction":"NEQ","value":"LOCAL"},"listField":["WnaCountryCode"],"isRevertable":false},{"type":"hideField","condition":{"variable":"MrNationalityCode","restriction":"Eq","value":"LOCAL"},"listField":["WnaCountryName"],"isRevertable":false}]}],"criteria":[],"mapCookie":[{"variableName":"ParentCustId","cookieName":"ParentCustId","isFromCookie":false,"isEmptyNotFound":true},{"variableName":"ParentCustName","cookieName":"ParentCustName","isFromCookie":false,"isEmptyNotFound":true},{"variableName":"WnaCountryName","cookieName":"WnaCountryName","isFromCookie":false,"isEmptyNotFound":true}]}},"id":"723bb482-80ee-475a-990a-794136a53ccc"}],"serviceUrl":{"add":{"environment":"","apiPath":"","apiUrl":""},"edit":{"environment":"","apiPath":"","apiUrl":""},"createRfa":{"environment":"","apiPath":"","apiUrl":""}},"isRedirect":false,"redirectOption":"","redirectLink":"","hideSubmitButton":false,"listBtn":[{"displayName":"Save And Sync","id":"save and syncId","key":"","position":"bottom","icon":"fa-check-square","cssClass":"btn-primary-2","conditions":[],"btnType":"submit","action":{"type":"function","target":"executor","alias":"saveDataOrSaveAndSync","methodName":"saveDataOrSaveAndSync","params":[{"propName":"dicts","propValue":"dicts"},{"propName":"from","propValue":"From"},{"propName":"isSaveAndSync","propValue":"true"},{"propName":"http","propValue":"http"},{"propName":"toastr","propValue":"toastr"},{"propName":"router","propValue":"router"},{"propName":"templateService","propValue":"templateService"},{"propName":"StepIndex","propValue":"StepIndex"}]}}],"customToastrMsg":"","onInit":[{"environment":"FoundationR3Url","apiPath":"/v1/GeneralSetting/GetGeneralSettingValueByCode","reqObj":[{"isFromDict":false,"propName":"Code","propValue":"DEF_LOCAL_NATIONALITY"}],"return":[]},{"environment":"FoundationR3Url","apiPath":"/v1/CustGrp/GetListCustGrpByMemberCustId","reqObj":[{"isFromDict":false,"propName":"Id","propValue":"IdCust"}],"return":[{"propName":"ReturnObject","propValue":"ReturnObject"},{"propName":"ParentCustId","propValue":"0"}],"conditions":[]},{"environment":"FoundationR3Url","apiPath":"/v1/Cust/GetCustByCustId","reqObj":[{"isFromDict":false,"propName":"Id","propValue":"ReturnObject[0].CustId"}],"return":[{"propName":"ParentCustId","propValue":"CustId"},{"propName":"ParentCustName","propValue":"CustName"}],"conditions":[{"property":"ReturnObject.length","restriction":"GTE","value":"1"}]},{"environment":"FoundationR3Url","apiPath":"/v1/CustPersonal/GetCustPersonalByCustId","reqObj":[{"isFromDict":false,"propName":"Id","propValue":"IdCust"}],"return":[{"propName":"RowVersionPersonal","propValue":"RowVersion"},{"propName":"WnaCountryCode","propValue":"WnaCountryCode"}],"conditions":[]},{"environment":"FoundationR3Url","apiPath":"/v1/RefCountry/GetRefCountryByCountryCode","reqObj":[{"isFromDict":false,"propName":"Code","propValue":"WnaCountryCode"}],"return":[{"propName":"WnaCountryName","propValue":"CountryName"}],"conditions":[]}],"isOverrideSubmit":true,"onSubmit":[{"conditions":[{"property":"IdCust","restriction":"LT","value":"0"}],"result":{"type":"http","environment":"FoundationR3Url","path":"/v1/CustPersonal/EditCustPersonal","reqObj":[{"propName":"BirthDt","propValue":"BirthDt"},{"propName":"BirthPlace","propValue":"BirthPlace"},{"propName":"CustFullName","propValue":"CustName"},{"propName":"CustId","propValue":"CustId"},{"propName":"CustPersonalId","propValue":"CustPersonalId"},{"propName":"CustPrefixName","propValue":"form.CustPrefixName"},{"propName":"CustSuffixName","propValue":"form.CustSuffixName"},{"propName":"Email1","propValue":"Email1"},{"propName":"Email2","propValue":"Email2"},{"propName":"Email3","propValue":"Email3"},{"propName":"FamilyCardNo","propValue":"form.FamilyCardNo"},{"propName":"IsAffiliateWithMf","propValue":"form.IsAffiliateWithMf"},{"propName":"IsRestInPeace","propValue":"form.IsRestInPeace"},{"propName":"IsVip","propValue":"form.IsVip"},{"propName":"MobilePhnNo1","propValue":"MobilePhnNo1"},{"propName":"MobilePhnNo2","propValue":"MobilePhnNo2"},{"propName":"MobilePhnNo3","propValue":"MobilePhnNo3"},{"propName":"MotherMaidenName","propValue":"MotherMaidenName"},{"propName":"MrEducationCode","propValue":"form.MrEducationCode"},{"propName":"MrGenderCode","propValue":"MrGenderCode"},{"propName":"MrMaritalStatCode","propValue":"MrMaritalStatCode"},{"propName":"MrNationalityCode","propValue":"form.MrNationalityCode"},{"propName":"MrReligionCode","propValue":"form.MrReligionCode"},{"propName":"MrSalutationCode","propValue":"form.MrSalutationCode"},{"propName":"NickName","propValue":"form.NickName"},{"propName":"NoOfDependents","propValue":"form.NoOfDependents"},{"propName":"NoOfResidence","propValue":"form.NoOfResidence"},{"propName":"VipNotes","propValue":"formRaw.VipNotes"},{"propName":"WnaCountryCode","propValue":"formRaw.WnaCountryCode"},{"propName":"RowVersion","propValue":"RowVersionPersonal"},{"propName":"ParentCustId","propValue":"form.ParentCustId"}],"onSuccess":[{"result":{"type":"toaster","mode":"success","message":"Success!"},"conditions":[]},{"result":{"type":"function","target":"self","alias":"","methodName":"NextStep","params":[{"propName":"stepCode","propValue":""}]},"conditions":[]}],"onError":{"type":"toaster","message":""}}},{"conditions":[],"result":{"type":"function","target":"executor","alias":"saveDataOrSaveAndSync","methodName":"saveDataOrSaveAndSync","params":[{"propName":"dicts","propValue":"dicts"},{"propName":"from","propValue":"From"},{"propName":"isSaveAndSync","propValue":"false"},{"propName":"http","propValue":"http"},{"propName":"toastr","propValue":"toastr"},{"propName":"router","propValue":"router"},{"propName":"templateService","propValue":"templateService"}]}}],"isOverrideCancel":false,"onCancel":{},"hideCancelButton":true}