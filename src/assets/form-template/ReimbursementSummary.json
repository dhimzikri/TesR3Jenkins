{"title":"Reimbursement Summary","hideTitle":false,"id":"ReimbursementSummary","addButton":false,"addLink":"","pathOption":"","backButton":false,"component":[{"form":{"subsection":{"title":"Reimburse Summary","isVertical":true,"isSubsection":true,"isModeAdd":true,"formInput":[{"Action":[{"type":"cbCallback","key":"EmpNo"}],"Type":"DDL","Label":"Employee Name","Variable":"EmpNo","IsRequired":true,"IsCallback":true,"IsReadonly":false,"IsHide":false,"IsEditable":false,"UseDefaultValue":false,"isUseAPI":true,"DdlItemsObj":null,"DdlReqObj":{"Environment":"FINOPS","Url":"/v1/RefEmp/GetListRefEmpFms","CustomObjName":"ReturnObject","CustomKeyName":"Key","CustomValueName":"Value","ReqObj":{}}},{"Action":[],"Type":"DDL","Label":"Employee Bank Account","Variable":"EmpBankAccNo","IsRequired":false,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":false,"UseDefaultValue":false,"isUseAPI":true,"DdlItemsObj":null,"DdlReqObj":{"Environment":"FINOPS","Url":"/v1/EmpBankAcc/GetListEmpBankAccFmsByEmpNo","CustomObjName":"ReturnObject","CustomKeyName":"Key","CustomValueName":"Value","ReqObj":{"Code":"EmpNo"}}},{"Action":[],"Type":"TEXT","Label":"DUMMY","Variable":"Dummy","Value":"","Pattern":"","IsRequired":false,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":true,"Placeholder":""}],"onLoad":[],"criteria":[],"mapCookie":[{"variableName":"EmpNo","cookieName":"EmpNo","isEmptyNotFound":false},{"variableName":"EmpBankAccNo","cookieName":"EmpBankAccNo","isEmptyNotFound":false}],"initAction":[]}},"id":"3e772c90-392b-4bc1-9901-b857a8eae04d"},{"table":{"isFromApi":false,"title":"Transaction List","resultData":"ReimburseHObj","isSubsection":true,"usePagination":true,"tableInput":{"isSeq":true,"headerList":[{"type":"label","label":"INPUT DATE","position":"center"},{"type":"label","label":"Invoice No.","position":"center"},{"type":"label","label":"INVOICE DATE","position":"center"},{"type":"label","label":"Invoice Amount","position":"center"},{"type":"label","label":"Request Amount","position":"center"},{"type":"label","label":"Origin Amount","position":"center"},{"type":"label","label":"Currency","position":"center"},{"type":"label","label":"Currency Rates","position":"center"},{"type":"label","label":"edit","position":"center"},{"type":"label","label":"delete","position":"center"}],"bodyList":[{"type":"date","position":"center","property":"PostDt","isFlagColor":false},{"type":"text","position":"left","property":"InvoiceNo","isFlagColor":false},{"type":"date","position":"center","property":"InvoiceDt","isFlagColor":false},{"type":"decimal","position":"right","property":"InvoiceAmt","isFlagColor":false,"precision":"0.2","IsPrcnt":false},{"type":"decimal","position":"right","property":"ReqAmt","isFlagColor":false,"precision":"0.2","IsPrcnt":false},{"type":"decimal","position":"right","property":"OriginAmt","isFlagColor":false,"precision":"0.2","IsPrcnt":false},{"type":"text","position":"center","property":"CurrCode","isFlagColor":false},{"type":"decimal","position":"right","property":"CurrRateAmt","isFlagColor":false,"precision":"0.2","IsPrcnt":false},{"type":"action","position":"center","action":[{"type":"edit","param":[{"type":"ReimburseHId","property":"ReimburseHId"},{"type":"mode","property":"edit"}],"path":"/reimbursement/detail","icon":""}]},{"type":"action","position":"center","action":[{"type":"delete","property":"Idx"}]}],"footerList":[{"type":"BLANK"},{"type":"BLANK"},{"type":"LABEL","position":"left","label":"TOTAL"},{"type":"AGGREGATE","position":"right","label":"Total Invoice Amt","property":"InvoiceAmt","aggMode":"SUM","isCurr":true,"precision":"0.2"},{"type":"AGGREGATE","position":"right","label":"Total Req amt","property":"ReqAmt","aggMode":"SUM","isCurr":true,"precision":"0.2"},{"type":"AGGREGATE","position":"right","label":"Total Origin Amt","property":"OriginAmt","aggMode":"SUM","isCurr":true,"precision":"0.2"},{"type":"BLANK"},{"type":"BLANK"},{"type":"BLANK"},{"type":"BLANK"}]},"getData":{"environment":"","apiPath":"","customObjName":"ReturnObject","reqObj":[]},"includeSubmit":true},"id":"cec8ad63-51f4-4a57-b629-964e53355cfe","listBtn":[{"displayName":"Add","id":"addId","key":"NewAllocationH","position":"top","icon":"","cssClass":"btn btn-primary btn-raised","conditions":[],"btnType":"button","action":{"type":"link","path":"/reimbursement/detail","target":"_self","params":[{"propName":"mode","propValue":"add"}]}}]},{"form":{"subsection":{"title":"FinalAlloc","isVertical":true,"isSubsection":false,"isModeAdd":true,"formInput":[{"Action":[],"Type":"BOOL","Label":"Final Allocation","Variable":"IsSubmit","Value":false,"IsRequired":true,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":true}],"onLoad":[],"criteria":[],"mapCookie":[],"initAction":[]}},"id":"63d429a8-dbfe-4458-af37-7d418af8aaff"},{"approvalcreate":{"categoryCode":"REIMB","refReasonTypeCode":"REIMBURSE","isHideTrxNo":true,"apvTypecodes":[{"TypeCode":"APV_LIMIT"},{"Attributes[0].AttributeName":"Approval Amount"},{"Attributes[0].AttributeValue":"ReqAmt_footer"}],"setApprovalObj":{"environment":"","apiPath":"","reqObj":{}},"onSubmit":{"environment":"FMSUrl","apiPath":"/v1/Reimbursement/SubmitReimbursement","approvalRequestObj":{}},"fromApi":false,"schmCode":"REIMB_SCHM"},"id":"b0824e77-1c80-48f0-81a9-60df62beacd3","conditions":[{"property":"form.IsSubmit","restriction":"EQ","value":"true"}]}],"serviceUrl":{"add":{"environment":"","apiPath":"","apiUrl":""},"edit":{"environment":"","apiPath":"","apiUrl":""},"createRfa":{"environment":"","apiPath":"","apiUrl":""}},"isRedirect":false,"redirectOption":"","redirectLink":"","hideSubmitButton":false,"hideCancelButton":false,"listBtn":[],"onInit":[{"environment":"FMSUrl","apiPath":"/v1/Reimbursement/GetReimburseIncludeByReimburseNo","reqObj":[{"isFromDict":false,"propName":"TrxNo","propValue":"TrxNo"}],"return":[{"propName":"ReimburseId","propValue":"ReimburseId"},{"propName":"EmpNo","propValue":"EmpNo"},{"propName":"EmpBankAccNo","propValue":"EmpBankAccNo"},{"propName":"ReimburseHObj","propValue":"ReimburseHObj"}],"conditions":[{"property":"mode","restriction":"EQ","value":"edit"}]}],"isOverrideSubmit":true,"onSubmit":[{"conditions":[{"property":"formRaw.IsSubmit","restriction":"EQ","value":"false"}],"result":{"type":"http","environment":"FMSUrl","path":"/v1/Reimbursement/SubmitReimbursement","reqObj":[{"propName":"ReimburseHObj","propValue":"ReimburseHObj"},{"propName":"EmpBankCode","propValue":"formRaw.EmpBankAccNo"},{"propName":"EmpNo","propValue":"formRaw.EmpNo"},{"propName":"IsSubmit","propValue":"formRaw.IsSubmit"},{"propName":"ReimburseNo","propValue":"TrxNo"}],"onSuccess":[{"result":{"type":"toaster","mode":"success","message":"Submitted Success"},"conditions":[]},{"result":{"type":"link","path":"/reimbursement/paging","target":"_self","params":[]},"conditions":[]}],"onError":{"type":"toaster","message":""},"mapResToDict":[]}},{"conditions":[{"property":"formRaw.IsSubmit","restriction":"EQ","value":"true"}],"result":{"type":"http","environment":"FMSUrl","path":"/v1/Reimbursement/SubmitReimbursement","reqObj":[{"propName":"EmpNo","propValue":"formRaw.EmpNo"},{"propName":"EmpBankCode","propValue":"formRaw.EmpBankAccNo"},{"propName":"IsSubmit","propValue":"formRaw.IsSubmit"},{"propName":"RequestRFAInfoObj","propValue":"formRaw.RFAInfo"},{"propName":"ReimburseHObj","propValue":"ReimburseHObj"},{"propName":"ReimburseNo","propValue":"TrxNo"}],"onSuccess":[{"result":{"type":"link","path":"/reimbursement/paging","target":"_self","params":[]},"conditions":[]},{"result":{"type":"toaster","mode":"success","message":"Submit Success"},"conditions":[]}],"onError":{"type":"toaster","message":""},"mapResToDict":[]}}],"isOverrideCancel":true,"onCancel":{"type":"link","path":"/reimbursement/paging","target":"_self","params":[]},"conditionalTitle":[],"customToastrMsg":"","persistData":true,"persistPropName":"ReimburseH"}