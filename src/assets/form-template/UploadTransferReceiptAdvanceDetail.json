{"title":"Upload Transfer Receipt Advance Detail","hideTitle":false,"id":"UploadTransferReceiptAdvanceDetail","addButton":false,"addLink":"","pathOption":"","backButton":false,"component":[{"view":{"subsection":{"subSectionId":"AdvanceRequestInfoId","subSectionTitle":"Advance Request Info","concatDate":false,"setDate":"","formatDate":"","environment":"FINOPS","apiVersion":"v1","uri":"","mainInfoPath":"/v1/AdvancePaymentAllocation/GetAdvancePayTrxAllocInfoByAdvAllocPayNo","querystring":{"name":""},"reqObj":{"TrxNo":"TrxNo"},"resObjName":"","mainInfo":[{"type":"link","label":"Advance No","property":"AdvPayNo","isFullpath":false,"path":"/advancepaymentview/transaction","target":"_blank","position":"left","param":[{"type":"TrxNo","property":"AdvPayNo"}],"isCurrency":false,"isHide":false,"customClassLabel":"","customClassProperty":""},{"type":"text","label":"Request By","property":"ReqBy","position":"left","isHide":false,"customClassLabel":"","customClassProperty":""},{"type":"text","label":"Employee Name","property":"EmpName","position":"left","isHide":false,"customClassLabel":"","customClassProperty":""},{"type":"text","label":"Advance Allocation No","property":"AdvPayAllocNo","position":"left","isHide":false,"customClassLabel":"","customClassProperty":""},{"type":"text","label":"Advance Allocation Status","property":"AdvAllocStatus","position":"left","isHide":false,"customClassLabel":"","customClassProperty":""},{"type":"currency","label":"Advance Amount","property":"AdvPayAmt","precision":"0.2","IsPrcnt":false,"position":"right","isHide":false,"customClassLabel":"","customClassProperty":""},{"type":"currency","label":"Allocated Amount","property":"AdvPayAllocAmt","precision":"0.2","IsPrcnt":false,"position":"right","isHide":false,"customClassLabel":"","customClassProperty":""},{"type":"currency","label":"OS Advance Amount","property":"OsAdvAmt","precision":"0.2","IsPrcnt":false,"position":"right","isHide":false,"customClassLabel":"","customClassProperty":""},{"type":"currency","label":"Difference Amount (overpayment/underpayment/on budget)","property":"DiffAdvPayAmt","precision":"0.2","IsPrcnt":false,"position":"right","isHide":false,"customClassLabel":"","customClassProperty":""}],"whereValue":[],"fromValue":[]}},"id":"cd71e0d9-efdc-4770-95da-fd7fce2e94cc"},{"view":{"subsection":{"subSectionId":"AllocationListId","subSectionTitle":"Allocation List","concatDate":false,"setDate":"","formatDate":"","environment":"FINOPS","apiVersion":"v1","uri":"","mainInfoPath":"/v1/AdvancePaymentAllocation/GetAllocationListByAdvPayAllocNo","querystring":{"name":""},"reqObj":{"TrxNo":"TrxNo"},"resObjName":"","mainInfo":[{"type":"currency","label":"Total Invoice Amount","property":"TotalInvoiceAmt","precision":"0.2","IsPrcnt":false,"position":"right","isHide":false,"customClassLabel":"","customClassProperty":""},{"type":"currency","label":"Total Allocation Amount","property":"TotalAllocAmt","precision":"0.2","IsPrcnt":false,"position":"right","isHide":false,"customClassLabel":"","customClassProperty":""}],"whereValue":[],"fromValue":[]}},"id":"6b23a876-04fb-4156-a92b-d0c463407aa7"},{"table":{"isFromApi":true,"title":"Allocation List","resultData":"","isSubsection":false,"usePagination":true,"tableInput":{"isSeq":true,"headerList":[{"type":"label","label":"Allocation Date","position":"center"},{"type":"label","label":"Invoice No","position":"center"},{"type":"label","label":"Invoice Amount","position":"center"},{"type":"label","label":"Allocation Amount","position":"center"},{"type":"label","label":"Detail","position":"center"}],"bodyList":[{"type":"date","position":"center","property":"AllocDt","isFlagColor":false},{"type":"text","position":"center","property":"InvoiceNo","isFlagColor":false},{"type":"decimal","position":"right","property":"InvoiceAmt","isFlagColor":false,"precision":"0.2","IsPrcnt":false},{"type":"decimal","position":"right","property":"AllocAmt","isFlagColor":false,"precision":"0.2","IsPrcnt":false},{"type":"action","position":"center","action":[{"type":"modal","width":"","isTemplate":true,"component":"AdvancePaymentDetailAllocation","disableClose":false,"param":[{"type":"AdvPayAllocHId","property":"RowObj.AdvPayAllocHId"},{"type":"Idx","property":"Idx"}],"refreshFrom":""}]}]},"getData":{"environment":"FinopsUrl","apiPath":"/v1/AdvancePaymentAllocation/GetAllocationListByAdvPayAllocNo","customObjName":"ListAdvPayAllocationObj","reqObj":[{"isFromDict":false,"propName":"TrxNo","propValue":"TrxNo"}],"conditions":[]}},"id":"db03d903-44fc-462a-a85e-cfd944a8bc91"},{"form":{"subsection":{"title":"Upload Request","isVertical":false,"isSubsection":true,"isModeAdd":true,"formInput":[{"Action":[],"Type":"DDL","Label":"Bank Account","Variable":"OfficeBankAccCode","IsRequired":false,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":false,"UseDefaultValue":false,"isUseAPI":true,"DdlItemsObj":null,"DdlReqObj":{"Environment":"FOU","Url":"/v1/OfficeBankAcc/GetListKeyValueActiveOfficeBankAcc","CustomObjName":"ReturnObject","CustomKeyName":"Key","CustomValueName":"Value","ReqObj":{}}},{"Action":[],"Type":"DATE","Label":"Transfer Date","Variable":"TrfDt","IsRequired":false,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":false,"Max":"BD","MinDtCode":"","MinOperator":null,"MinValue":null,"MaxDtCode":null,"MaxOperator":null,"MaxValue":null,"DtRestrictOptMin":"","DtRestrictOptMax":"BD"},{"Action":[],"Type":"TEXTAREA","Label":"Notes","Variable":"TrfNotes","Value":"","Pattern":"","IsRequired":false,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":false,"Placeholder":""}],"onLoad":[],"criteria":[],"mapCookie":[],"initAction":[{"type":"setMinMaxDt","condition":[],"listField":["TrfDt"],"minDt":"PostDt","maxDt":"","isRevertable":false}]}},"id":"dc6dbf00-84d2-44f2-b187-d67154037b61"}],"serviceUrl":{"add":{"environment":"","apiPath":"","apiUrl":""},"edit":{"environment":"","apiPath":"","apiUrl":""},"createRfa":{"environment":"","apiPath":"","apiUrl":""}},"isRedirect":false,"redirectOption":"","redirectLink":"","hideSubmitButton":false,"hideCancelButton":false,"listBtn":[],"onInit":[{"environment":"FinopsUrl","apiPath":"/v1/AdvancePaymentAllocation/GetAdvancePayTrxAllocInfoByAdvAllocPayNo","reqObj":[{"isFromDict":false,"propName":"TrxNo","propValue":"TrxNo"}],"return":[{"propName":"PostDt","propValue":"PostDt"}],"conditions":[]}],"isOverrideSubmit":true,"onSubmit":[{"conditions":[],"result":{"type":"http","environment":"FinopsUrl","path":"/v1/AdvancePaymentAllocation/SubmitAdvancePayAllocTrxTrf","reqObj":[{"propName":"AdvPayAllocNo","propValue":"TrxNo"},{"propName":"OfficeBankAccCode","propValue":"form.OfficeBankAccCode"},{"propName":"TrfDt","propValue":"form.TrfDt"},{"propName":"TrfNotes","propValue":"form.TrfNotes"}],"onError":{"type":"toaster","message":""},"onSuccess":[{"conditions":[],"result":{"type":"link","path":"/advance-payment-alloc/upload","target":"_self","params":[]}},{"conditions":[],"result":{"type":"toaster","mode":"success","message":""}}],"mapResToDict":[]}}],"isOverrideCancel":false,"onCancel":{},"conditionalTitle":[{"title":"UPLOAD TRANSFER RECEIPT ADVANCE","conditions":[]}],"persistData":false,"customToastrMsg":"","persistPropName":""}