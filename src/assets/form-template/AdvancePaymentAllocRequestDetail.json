{"title":"Advance Payment Alloc Header","hideTitle":false,"id":"AdvancePaymentAllocRequestDetail","addButton":false,"addLink":"","pathOption":"","backButton":false,"component":[{"customComponent":{"componentRef":"${AdvanceRequestInfo}"},"id":"6f0c27ee-8b27-4a7f-b680-a3bf751d6f31"},{"table":{"isFromApi":false,"title":"Allocation List","resultData":"ListAdvPayAllocHObj","isSubsection":true,"usePagination":true,"includeSubmit":true,"tableInput":{"isSeq":true,"headerList":[{"type":"label","label":"Allocation Date","position":"center"},{"type":"label","label":"Invoice No","position":"center"},{"type":"label","label":"INVOICE AMOUNT","position":"center"},{"type":"label","label":"Request Amount","position":"center"},{"type":"label","label":"Edit","position":"center"},{"type":"label","label":"delete","position":"center"}],"bodyList":[{"type":"date","position":"center","property":"InvoiceDt","isFlagColor":false},{"type":"text","position":"left","property":"InvoiceNo","isFlagColor":false},{"type":"decimal","position":"right","property":"InvoiceAmt","isFlagColor":false,"precision":"0.2","IsPrcnt":false},{"type":"decimal","position":"right","property":"ReqAmt","isFlagColor":false,"precision":"0.2","IsPrcnt":false},{"type":"action","position":"center","action":[{"type":"edit","param":[{"type":"AdvPayAllocHId","property":"AdvPayAllocHId"},{"type":"mode","property":"edit"},{"type":"TrxNo","property":"TrxNo"}],"path":"/advance-payment-alloc/request/detail/alloc","icon":""}]},{"type":"action","position":"center","action":[{"type":"delete","property":"Idx"}]}],"footerList":[{"type":"BLANK","position":"center"},{"type":"LABEL","position":"left","label":"Total"},{"type":"AGGREGATE","position":"right","label":"TotalInvAmt","property":"InvoiceAmt","aggMode":"SUM","isCurr":true,"precision":"0.2"},{"type":"AGGREGATE","position":"right","label":"TotalReqAmt","property":"ReqAmt","aggMode":"SUM","isCurr":true,"precision":"0.2"},{"type":"BLANK"}]},"getData":{"environment":"","apiPath":"","customObjName":"ReturnObject","reqObj":[]}},"id":"a9d017b3-8252-432b-880c-42e23fa09e22","listBtn":[{"displayName":"Add Transaction","id":"add transactionId","key":"NewTrx","position":"top","icon":"fa-check-square","cssClass":"btn-primary","conditions":[],"btnType":"button","action":{"type":"link","path":"/advance-payment-alloc/request/detail/alloc","target":"_self","params":[{"propName":"mode","propValue":"add"},{"propName":"TrxNo","propValue":"TrxNo"}]}}]},{"form":{"subsection":{"title":"IsFinal","isVertical":true,"isSubsection":false,"isModeAdd":true,"formInput":[{"Action":[],"Type":"BOOL","Label":"Final Allocation","Variable":"IsFinalAllocation","Value":false,"IsRequired":true,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":true}],"onLoad":[],"criteria":[],"mapCookie":[],"initAction":[]}},"id":"587d3bb8-e1f1-4c3a-bc23-bd7eb8f1055a"},{"approvalcreate":{"categoryCode":"ADV_PAY_ALLOC","refReasonTypeCode":"ADV_PAY_ALLOC","isHideTrxNo":true,"apvTypecodes":[{"TypeCode":"GENERAL_APV_TYPE"}],"setApprovalObj":{"environment":"","apiPath":"","reqObj":{}},"onSubmit":{"environment":"FoundationR3Url","apiPath":"/v1/Approval/SubmitApproval","approvalRequestObj":{}},"fromApi":false,"schmCode":"ADV_PAY_ALLOC_SCHM"},"id":"a7baab96-70d3-4252-a682-039e6896baef","conditions":[{"property":"formRaw.IsFinalAllocation","restriction":"EQ","value":"true"}]}],"serviceUrl":{"add":{"environment":"","apiPath":"","apiUrl":""},"edit":{"environment":"","apiPath":"","apiUrl":""},"createRfa":{"environment":"","apiPath":"","apiUrl":""}},"isRedirect":false,"redirectOption":"","redirectLink":"","hideSubmitButton":false,"hideCancelButton":false,"listBtn":[],"onInit":[{"environment":"FMSUrl","apiPath":"/v1/AdvancePaymentAllocation/GetResAdvPayAllocObjByAdvPayNo","reqObj":[{"isFromDict":false,"propName":"TrxNo","propValue":"TrxNo"},{"isFromDict":false,"propName":"AdvPayAllocNo","propValue":"AdvPayAllocNo"}],"return":[{"propName":"ListAdvPayAllocHObj","propValue":"ListAdvPayAllocHObj"}],"conditions":[]}],"isOverrideSubmit":true,"onSubmit":[{"conditions":[{"property":"formRaw.IsFinalAllocation","restriction":"EQ","value":"true"}],"result":{"type":"http","environment":"FMSUrl","path":"/v1/AdvancePaymentAllocation/SubmitAdvanceAllocation","reqObj":[{"propName":"AdvPayTrxNo","propValue":"TrxNo"},{"propName":"TotalInvoiceAmt","propValue":"InvoiceAmt_footer"},{"propName":"TotalReqAmt","propValue":"ReqAmt_footer"},{"propName":"IsFinalAllocation","propValue":"formRaw.IsFinalAllocation"},{"propName":"AdvPayAllocNo","propValue":"AdvPayAllocNo"},{"propName":"ListAdvPayAllocHObj","propValue":"ListAdvPayAllocHObj"},{"propName":"RfaInfo","propValue":"form.RFAInfo"}],"onSuccess":[{"result":{"type":"link","path":"/advance-payment-alloc/request/paging","target":"_self","params":[]},"conditions":[]},{"result":{"type":"toaster","mode":"success","message":"Submit Success"},"conditions":[]}],"onError":{"type":"toaster","message":""},"excObj":[],"mapResToDict":[]}},{"conditions":[{"property":"formRaw.IsFinalAllocation","restriction":"NEQ","value":"true"}],"result":{"type":"http","environment":"FMSUrl","path":"/v1/AdvancePaymentAllocation/SubmitAdvanceAllocation","reqObj":[{"propName":"AdvPayTrxNo","propValue":"TrxNo"},{"propName":"TotalInvoiceAmt","propValue":"InvoiceAmt_footer"},{"propName":"TotalReqAmt","propValue":"ReqAmt_footer"},{"propName":"IsFinalAllocation","propValue":"formRaw.IsFinalAllocation"},{"propName":"AdvPayAllocNo","propValue":"AdvPayAllocNo"},{"propName":"ListAdvPayAllocHObj","propValue":"ListAdvPayAllocHObj"}],"onSuccess":[{"result":{"type":"toaster","mode":"success","message":"Submitted Success"},"conditions":[]},{"result":{"type":"link","path":"/advance-payment-alloc/request/paging","target":"_self","params":[]},"conditions":[]}],"onError":{"type":"toaster","message":""},"excObj":[],"mapResToDict":[]}}],"isOverrideCancel":false,"onCancel":{},"conditionalTitle":[],"persistData":true,"customToastrMsg":"","persistPropName":"AdvancePaymentAllocReqDetail"}