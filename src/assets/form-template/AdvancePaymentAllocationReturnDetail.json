{"title":"Advance Payment Allocation Return Detail","hideTitle":false,"id":"AdvancePaymentAllocationReturnDetail","addButton":false,"addLink":"","pathOption":"","backButton":false,"component":[{"view":{"subsection":{"subSectionId":"ReturnInfoId","subSectionTitle":"Return Info","concatDate":false,"setDate":"","formatDate":"","environment":"FINOPS","apiVersion":"v1","uri":"","mainInfoPath":"/v1/AdvPayAllocObj/GetObjectByUniqueNo","service":"","querystring":{"name":""},"reqObj":{"trxNo":"AdvPayAllocNo"},"resObjName":"","mainInfo":[{"type":"text","label":"Return Notes","property":"ReturnNotes","position":"left","isHide":false,"customClassLabel":"","customClassProperty":""}],"whereValue":[],"fromValue":[]}},"id":"d3e6570e-ee0c-49c4-ab38-81ba0a70f649"},{"customComponent":{"componentRef":"${AdvanceRequestInfo}"},"id":"2a896179-ac6e-4c70-acd0-bc0a0ff19227"},{"table":{"isFromApi":false,"title":"Allocation List","resultData":"ListAdvPayAllocHObj","isSubsection":false,"usePagination":true,"includeSubmit":false,"tableInput":{"isSeq":false,"headerList":[{"type":"label","label":"Allocation Date","position":"center"},{"type":"label","label":"Invoice No","position":"center"},{"type":"label","label":"Invoice Amount","position":"center"},{"type":"label","label":"Allocation Amount","position":"center"},{"type":"label","label":"action","position":"center"},{"type":"label","label":"delete","position":"center"}],"bodyList":[{"type":"date","position":"center","property":"InvoiceDt","isFlagColor":false},{"type":"text","position":"left","property":"InvoiceNo","isFlagColor":false},{"type":"decimal","position":"right","property":"InvoiceAmt","isFlagColor":false,"precision":"0.2","IsPrcnt":false},{"type":"decimal","position":"right","property":"ReqAmt","isFlagColor":false,"precision":"0.2","IsPrcnt":false},{"type":"action","position":"center","action":[{"type":"edit","param":[{"type":"AdvPayAllocHId","property":"AdvPayAllocHId"},{"type":"mode","property":"edit"},{"type":"TrxNo","property":"TrxNo"}],"path":"/advance-payment-alloc/return/detail/header","icon":""}]},{"type":"action","position":"center","action":[{"type":"delete","property":"Idx"}]}],"footerList":[{"type":"BLANK"},{"type":"LABEL","position":"left","label":"TOTAL"},{"type":"AGGREGATE","position":"right","label":"TotalInvAmt","property":"InvoiceAmt","aggMode":"SUM","isCurr":true,"precision":"0.2"},{"type":"AGGREGATE","position":"right","label":"TotalReqAmt","property":"ReqAmt","aggMode":"SUM","isCurr":true,"precision":"0.2"},{"type":"BLANK"}]},"getData":{"environment":"","apiPath":"","customObjName":"ReturnObject","reqObj":[]}},"id":"784c3f9c-a133-4181-bbf2-d807214f1e73","listBtn":[{"displayName":"Add Allocation","id":"add allocationId","key":"AddAllocation","position":"top","icon":"","cssClass":"btn-primary","conditions":[],"btnType":"button","action":{"type":"link","path":"/advance-payment-alloc/return/detail/header","target":"_self","params":[{"propName":"mode","propValue":"add"},{"propName":"TrxNo","propValue":"TrxNo"}]}}]},{"approvalcreate":{"categoryCode":"ADV_PAY_ALLOC","refReasonTypeCode":"ADV_PAY_ALLOC","isHideTrxNo":true,"apvTypecodes":[{"TypeCode":"GENERAL_APV_TYPE"}],"setApprovalObj":{"environment":"","apiPath":"","reqObj":{}},"onSubmit":{"redirectUrl":"","environment":"","apiPath":"","apiUrl":"","approvalRequestObj":{}},"fromApi":false,"schmCode":"ADV_PAY_ALLOC_SCHM"},"id":"3c312143-c281-4f3c-ae6e-59e7a8a2b2fb","conditions":[]}],"serviceUrl":{"add":{"environment":"","apiPath":"","apiUrl":""},"edit":{"environment":"","apiPath":"","apiUrl":""},"createRfa":{"environment":"","apiPath":"","apiUrl":""}},"isRedirect":false,"redirectOption":"","redirectLink":"","hideSubmitButton":false,"hideCancelButton":false,"listBtn":[],"customToastrMsg":"","onInit":[{"environment":"FMSUrl","apiPath":"/v1/AdvancePaymentAllocation/GetResAdvPayAllocObjByAdvPayNo","reqObj":[{"isFromDict":false,"propName":"TrxNo","propValue":"TrxNo"},{"isFromDict":false,"propName":"AdvPayAllocNo","propValue":"AdvPayAllocNo"}],"return":[{"propName":"ListAdvPayAllocHObj","propValue":"ListAdvPayAllocHObj"}],"conditions":[]}],"isOverrideSubmit":true,"onSubmit":[{"conditions":[],"result":{"type":"http","environment":"FMSUrl","path":"/v1/AdvancePaymentAllocation/SubmitAdvanceAllocationReturn","reqObj":[{"propName":"AdvPayTrxNo","propValue":"TrxNo"},{"propName":"TotalInvoiceAmt","propValue":"InvoiceAmt_footer"},{"propName":"TotalReqAmt","propValue":"ReqAmt_footer"},{"propName":"IsFinal","propValue":"formRaw.IsFinal"},{"propName":"AdvPayAllocNo","propValue":"AdvPayAllocNo"},{"propName":"ListAdvPayAllocHObj","propValue":"ListAdvPayAllocHObj"},{"propName":"RfaInfo","propValue":"form.RFAInfo"}],"onSuccess":[{"result":{"type":"toaster","mode":"success","message":"Submitted Success"},"conditions":[]},{"result":{"type":"link","path":"/advance-payment-alloc/return","target":"_self","params":[]},"conditions":[]}],"onError":{"type":"toaster","message":""},"excObj":[],"mapResToDict":[]}}],"isOverrideCancel":false,"onCancel":{},"conditionalTitle":[],"persistData":true,"persistPropName":"ReqDetail"}