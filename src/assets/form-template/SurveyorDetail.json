{"title":"Surveyor Detail","hideTitle":false,"id":"SurveyorDetail","addButton":false,"addLink":"","pathOption":"","backButton":false,"component":[{"form":{"subsection":{"title":"Surveyor Detail","isVertical":true,"isSubsection":true,"isModeAdd":true,"formInput":[{"Action":[{"type":"requiredField","condition":{"variable":"SurveyorType","restriction":"Eq","value":"EXTERNAL_SURVEYOR"},"listField":["VendorName"],"isRevertable":true},{"type":"unrequiredField","condition":{"variable":"SurveyorType","restriction":"NEQ","value":"EXTERNAL_SURVEYOR"},"listField":["VendorName"],"isRevertable":true},{"type":"setLookupCrit","condition":{"variable":"SurveyorType","restriction":"Eq","value":"EXTERNAL_SURVEYOR"},"lookupKey":"Username","listCrit":[{"variable":"","value":"","propName":"RE.IS_EXT","propValue":"1","restriction":"Eq"}]},{"type":"setLookupCrit","condition":{"variable":"SurveyorType","restriction":"NEQ","value":"EXTERNAL_SURVEYOR"},"lookupKey":"Username","listCrit":[{"variable":"","value":"","propName":"RE.IS_EXT","propValue":"0","restriction":"Eq"}]},{"type":"hideField","condition":{"variable":"SurveyorType","restriction":"NEQ","value":"EXTERNAL_SURVEYOR"},"listField":["VendorName"],"isRevertable":true},{"type":"bindValue","condition":{"variable":"SurveyorType","restriction":"NEQ","value":""},"listBind":[{"variable":"VendorName","value":""},{"variable":"VendorGroupId","value":""},{"variable":"Username","value":""},{"variable":"UserId","value":""}],"isRevertable":true}],"Type":"DDL","Label":"Surveyor Type","Variable":"SurveyorType","IsRequired":true,"IsCallback":true,"IsReadonly":false,"IsHide":false,"IsEditable":false,"UseDefaultValue":true,"isUseAPI":true,"DdlItemsObj":null,"DdlReqObj":{"Environment":"FOU","Url":"/v1/RefMaster/GetListKeyValueActiveByCode","CustomObjName":"ReturnObject","CustomKeyName":"Key","CustomValueName":"Value","ReqObj":{"RefMasterTypeCode":"SURVEYOR_TYPE"}}},{"Action":[{"type":"bindValue","condition":{"variable":"Username","restriction":"NEQ","value":""},"listBind":[{"variable":"UserId","value":"LookupEv.UserId"}],"isRevertable":true}],"Type":"LOOKUP","Label":"Username","Variable":"Username","IsRequired":true,"IsCallback":true,"IsReadonly":true,"IsHide":false,"IsEditable":true,"IsClear":false,"LookupName":"${Lookupusername}","Criteria":[],"pagingInput":{"lookupId":"Lookupusername","title":"lookupUsername","component":[{"id":"upper(ruusername)SearchId","type":"textbox","label":"Username","name":"UPPER(RU.USERNAME)","value":"","placeholder":"","datatype":"text","isReadonly":false,"useAutofill":false,"isUppercase":true}],"querystring":{"name":"lookupUsername"},"orderby":null,"headerList":[{"type":"sort","label":"Username","position":"left","name":"RU.USERNAME"},{"type":"sort","label":"Employee No","position":"left","name":"RE.EMP_NO"},{"type":"sort","label":"Employee Name","position":"left","name":"RE.EMP_NAME"},{"type":"label","position":"center","label":"Select"}],"bodyList":[{"type":"text","position":"left","property":"Username"},{"type":"text","position":"left","property":"EmployeeNo"},{"type":"text","position":"left","property":"EmployeeName"},{"type":"action","position":"center","action":[{"type":"select","property":"Username"}]}],"propertyId":"UserId","propertyName":"Username","environment":"FoundationR3Url","apiVersion":"v1"}},{"Action":[],"Type":"TEXT","Label":"UserId","Variable":"UserId","Value":"","Pattern":"","IsRequired":false,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":true,"Placeholder":""},{"Action":[{"type":"bindValue","condition":{"variable":"CenterGrpName","restriction":"NEQ","value":""},"listBind":[{"variable":"SurveyorGroupId","value":"LookupEv.CenterGrpId"}],"isRevertable":true}],"Type":"LOOKUP","Label":"Surveyor Group","Variable":"CenterGrpName","IsRequired":true,"IsCallback":true,"IsReadonly":true,"IsHide":false,"IsEditable":true,"IsClear":false,"LookupName":"${Lookupofficesrvygrp}","Criteria":[],"pagingInput":{"lookupId":"Lookupofficesrvygrp","title":"lookupOfficeSrvyGrp","component":[{"id":"cgcenterGrpCodeSearchId","type":"textbox","label":"Center Group Code","name":"CG.CENTER_GRP_CODE","value":"","placeholder":"","datatype":"text"},{"id":"cgcenterGrpNameSearchId","type":"textbox","label":"Center Group Name","name":"CG.CENTER_GRP_NAME","value":"","placeholder":"","datatype":"text"}],"querystring":{"name":"lookupOfficeSrvyGrp"},"orderby":null,"headerList":[{"type":"sort","label":"Center Group Code","position":"left","name":"CG.CENTER_GRP_CODE"},{"type":"sort","label":"Center Group Name","position":"left","name":"CG.CENTER_GRP_NAME"},{"type":"label","position":"center","label":"Select"}],"bodyList":[{"type":"text","position":"left","property":"CenterGrpCode"},{"type":"text","position":"left","property":"CenterGrpName"},{"type":"action","position":"center","action":[{"type":"select","property":"CenterGrpCode"}]}],"propertyId":"CenterGrpId","propertyName":"CenterGrpName","environment":"FoundationR3Url","apiVersion":"v1"}},{"Action":[],"Type":"TEXT","Label":"SurveyorGroupId","Variable":"SurveyorGroupId","Value":"","Pattern":"","IsRequired":false,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":true,"Placeholder":""},{"Action":[{"type":"bindValue","condition":{"variable":"VendorName","restriction":"NEQ","value":""},"listBind":[{"variable":"VendorGroupId","value":"LookupEv.VendorId"}],"isRevertable":true}],"Type":"LOOKUP","Label":"Vendor Group","Variable":"VendorName","IsRequired":false,"IsCallback":true,"IsReadonly":true,"IsHide":false,"IsEditable":true,"IsClear":false,"LookupName":"${Lookupvendor}","Criteria":[],"pagingInput":{"lookupId":"Lookupvendor","title":"lookupVendor","component":[{"id":"vvendorCodeSearchId","type":"textbox","label":"Vendor Code","name":"v.VENDOR_CODE","value":"","placeholder":"","datatype":"text"},{"id":"vvendorNameSearchId","type":"textbox","label":"Vendor Name","name":"v.VENDOR_NAME","value":"","placeholder":"","datatype":"text"}],"querystring":{"name":"lookupVendor"},"orderby":null,"headerList":[{"type":"sort","label":"Vendor Code","position":"left","name":"v.VENDOR_CODE"},{"type":"sort","label":"Vendor Name","position":"left","name":"v.VENDOR_NAME"},{"type":"label","position":"center","label":"Select"}],"bodyList":[{"type":"text","position":"left","property":"ReferantorCode","isFlagColor":false},{"type":"text","position":"left","property":"ReferantorName","isFlagColor":false},{"type":"action","position":"center","action":[{"type":"select","property":"ReferantorName"}]}],"propertyId":"VendorId","propertyName":"ReferantorName","environment":"FoundationR3Url","apiVersion":"v1"}},{"Action":[],"Type":"TEXT","Label":"VendorGroupId","Variable":"VendorGroupId","Value":"","Pattern":"","IsRequired":false,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":true,"Placeholder":""},{"Action":[],"Type":"TEXT","Label":"Surveyor No","Variable":"SurveyorNo","Value":"","Pattern":"","IsRequired":true,"IsUppercase":true,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":false,"Placeholder":""},{"Action":[],"Type":"NUMERIC","Label":"Workload","Variable":"Workload","Value":"","IsRequired":true,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":true,"Min":"","Max":""},{"Action":[],"Type":"NUMERIC","Label":"Current Workload Amount","Variable":"CurrWorkloadAmt","Value":"0","IsRequired":true,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":true,"Min":"","Max":""},{"Action":[],"Type":"BOOL","Label":"Active Status","Variable":"IsActiveData","Value":false,"IsRequired":false,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":true},{"Action":[],"Type":"TEXT","Label":"RowVersionData","Variable":"RowVersionData","Value":"","Pattern":"","IsRequired":false,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":true,"Placeholder":""},{"Action":[],"Type":"TEXT","Label":"DefaultValue","Variable":"DefaultValue","Value":"INTERNAL_SURVEYOR","Pattern":"","IsRequired":false,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":true,"Placeholder":""}],"onLoad":[{"conditions":[{"property":"mode","restriction":"EQ","value":"edit"}],"environment":"FoundationR3Url","apiPath":"/v1/Surveyor/GetSurveyorBySurveyorId","reqObj":[{"isFromDict":false,"propName":"Id","propValue":"SurveyorId"}],"mapRes":[{"accessorName":"MrSurveyorTypeCode","variableName":"SurveyorType"},{"accessorName":"RefUserId","variableName":"UserId"},{"accessorName":"CenterGrpId","variableName":"SurveyorGroupId"},{"accessorName":"VendorId","variableName":"VendorGroupId"},{"accessorName":"SurveyorNo","variableName":"SurveyorNo"},{"accessorName":"WorkloadAmt","variableName":"Workload"},{"accessorName":"CurrWorkloadAmt","variableName":"CurrWorkloadAmt"},{"accessorName":"IsActive","variableName":"IsActiveData"},{"accessorName":"RowVersion","variableName":"RowVersionData"}]},{"conditions":[{"property":"mode","restriction":"EQ","value":"edit"}],"environment":"FoundationR3Url","apiPath":"/v1/CenterGrp/GetCenterGrpById","reqObj":[{"isFromDict":false,"propName":"Id","propValue":"CenterGrpId"}],"mapRes":[{"accessorName":"CenterGrpName","variableName":"CenterGrpName"}]},{"conditions":[{"property":"mode","restriction":"EQ","value":"edit"}],"environment":"FoundationR3Url","apiPath":"/v1/RefUser/GetRefUserById","reqObj":[{"isFromDict":false,"propName":"Id","propValue":"RefUserId"}],"mapRes":[{"accessorName":"Username","variableName":"Username"}]},{"conditions":[{"property":"mode","restriction":"EQ","value":"edit"},{"property":"MrSurveyorTypeCode","restriction":"EQ","value":"EXTERNAL_SURVEYOR"}],"environment":"FoundationR3Url","apiPath":"/v1/Vendor/GetVendorByVendorId","reqObj":[{"isFromDict":false,"propName":"Id","propValue":"VendorId"}],"mapRes":[{"accessorName":"VendorName","variableName":"VendorName"}]}],"criteria":[],"mapCookie":[],"initAction":[{"type":"bindValue","condition":{"variable":"DefaultValue","restriction":"NEQ","value":""},"listBind":[{"variable":"SurveyorType","value":"INTERNAL_SURVEYOR"}],"isRevertable":true},{"type":"requiredField","condition":{"variable":"SurveyorType","restriction":"Eq","value":"EXTERNAL_SURVEYOR"},"listField":["VendorName"],"isRevertable":true},{"type":"unrequiredField","condition":{"variable":"SurveyorType","restriction":"NEQ","value":"EXTERNAL_SURVEYOR"},"listField":["VendorName"],"isRevertable":true},{"type":"hideField","condition":{"variable":"SurveyorType","restriction":"NEQ","value":"EXTERNAL_SURVEYOR"},"listField":["VendorName"],"isRevertable":true}]}},"id":"23f834ec-231b-47dc-b412-89138d50703a"}],"serviceUrl":{"add":{"environment":"","apiPath":"","apiUrl":""},"edit":{"environment":"","apiPath":"","apiUrl":""},"createRfa":{"environment":"","apiPath":"","apiUrl":""}},"isRedirect":false,"redirectOption":"","redirectLink":"","hideSubmitButton":false,"hideCancelButton":false,"listBtn":[],"customToastrMsg":"","onInit":[],"isOverrideSubmit":true,"onSubmit":[{"conditions":[],"result":{"type":"switch","cases":[{"conditions":[{"restriction":"EQ","value":"add","property":"mode"},{"restriction":"NEQ","value":"EXTERNAL_SURVEYOR","property":"form.SurveyorType"}],"result":{"type":"http","environment":"FoundationR3Url","path":"/v1/Surveyor/AddSurveyor","reqObj":[{"propName":"MrSurveyorTypeCode","propValue":"form.SurveyorType"},{"propName":"RefUserId","propValue":"form.UserId"},{"propName":"CenterGrpId","propValue":"form.SurveyorGroupId"},{"propName":"SurveyorNo","propValue":"form.SurveyorNo"},{"propName":"WorkloadAmt","propValue":"form.Workload"},{"propName":"CurrWorkloadAmt","propValue":"form.CurrWorkloadAmt"},{"propName":"IsActive","propValue":"form.IsActiveData"}],"onSuccess":[{"result":{"type":"toaster","mode":"success","message":"Success"},"conditions":[]},{"result":{"type":"link","path":"/Survey/SelfCustom/Surveyor/Paging","target":"_self","params":[]},"conditions":[]}],"onError":{"type":"toaster","message":""}}},{"conditions":[{"restriction":"EQ","value":"add","property":"mode"},{"restriction":"EQ","value":"EXTERNAL_SURVEYOR","property":"form.SurveyorType"}],"result":{"type":"http","environment":"FoundationR3Url","path":"/v1/Surveyor/AddSurveyor","reqObj":[{"propName":"MrSurveyorTypeCode","propValue":"form.SurveyorType"},{"propName":"RefUserId","propValue":"form.UserId"},{"propName":"CenterGrpId","propValue":"form.SurveyorGroupId"},{"propName":"VendorId","propValue":"form.VendorGroupId"},{"propName":"SurveyorNo","propValue":"form.SurveyorNo"},{"propName":"WorkloadAmt","propValue":"form.Workload"},{"propName":"CurrWorkloadAmt","propValue":"form.CurrWorkloadAmt"},{"propName":"IsActive","propValue":"form.IsActiveData"}],"onSuccess":[{"result":{"type":"toaster","mode":"success","message":"Success"},"conditions":[]},{"result":{"type":"link","path":"/Survey/SelfCustom/Surveyor/Paging","target":"_self","params":[]},"conditions":[]}],"onError":{"type":"toaster","message":""}}},{"conditions":[{"restriction":"EQ","value":"edit","property":"mode"},{"restriction":"NEQ","value":"EXTERNAL_SURVEYOR","property":"formRaw.SurveyorType"}],"result":{"type":"http","environment":"FoundationR3Url","path":"/v1/Surveyor/EditSurveyor","reqObj":[{"propName":"MrSurveyorTypeCode","propValue":"formRaw.SurveyorType"},{"propName":"CenterGrpId","propValue":"form.SurveyorGroupId"},{"propName":"SurveyorNo","propValue":"formRaw.SurveyorNo"},{"propName":"WorkloadAmt","propValue":"form.Workload"},{"propName":"CurrWorkloadAmt","propValue":"form.CurrWorkloadAmt"},{"propName":"IsActive","propValue":"form.IsActiveData"},{"propName":"RefUserId","propValue":"form.UserId"},{"propName":"RowVersion","propValue":"form.RowVersionData"},{"propName":"SurveyorId","propValue":"SurveyorId"}],"onSuccess":[{"result":{"type":"toaster","mode":"success","message":"Success"},"conditions":[]},{"result":{"type":"link","path":"/Survey/SelfCustom/Surveyor/Paging","target":"_self","params":[]},"conditions":[]}],"onError":{"type":"toaster","message":""}}},{"conditions":[{"restriction":"EQ","value":"edit","property":"mode"},{"restriction":"EQ","value":"EXTERNAL_SURVEYOR","property":"formRaw.SurveyorType"}],"result":{"type":"http","environment":"FoundationR3Url","path":"/v1/Surveyor/EditSurveyor","reqObj":[{"propName":"MrSurveyorTypeCode","propValue":"formRaw.SurveyorType"},{"propName":"RefUserId","propValue":"form.UserId"},{"propName":"CenterGrpId","propValue":"form.SurveyorGroupId"},{"propName":"VendorId","propValue":"form.VendorGroupId"},{"propName":"SurveyorNo","propValue":"formRaw.SurveyorNo"},{"propName":"WorkloadAmt","propValue":"form.Workload"},{"propName":"CurrWorkloadAmt","propValue":"form.CurrWorkloadAmt"},{"propName":"IsActive","propValue":"form.IsActiveData"},{"propName":"RowVersion","propValue":"form.RowVersionData"},{"propName":"SurveyorId","propValue":"SurveyorId"}],"onSuccess":[{"result":{"type":"toaster","mode":"success","message":"Success"},"conditions":[]},{"result":{"type":"link","path":"/Survey/SelfCustom/Surveyor/Paging","target":"_self","params":[]},"conditions":[]}],"onError":{"type":"toaster","message":""}}}]}}],"isOverrideCancel":false,"onCancel":{}}