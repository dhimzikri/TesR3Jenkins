{"title":"Add Loan Batch","id":"AddLoanBatchXCNAF","addButton":false,"addLink":"","pathOption":"","backButton":false,"component":[{"customComponent":{"componentRef":"${Loancontractmaininfo}"},"id":"5eaa2c86-2cfe-4caf-b423-f54b05b22912"},{"form":{"subsection":{"title":"Batch Information","isVertical":false,"isSubsection":true,"isModeAdd":true,"formInput":[{"Action":[],"Type":"TEXT","Label":"Funding Batch No.","Variable":"LoanBatchNo","Value":"","Pattern":"","IsRequired":false,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":true,"Placeholder":"Input Funding Batch No"},{"Action":[],"Type":"NUMERIC","Label":"Tenor","Variable":"Tenor","Value":"","IsRequired":true,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":true,"Min":"1","Max":""},{"Action":[],"Type":"DDL","Label":"Tenor Type","Variable":"TenorType","IsRequired":false,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":true,"UseDefaultValue":false,"isUseAPI":true,"DdlItemsObj":null,"DdlReqObj":{"Environment":"FOU","Url":"/RefMaster/GetListKeyValueActiveByCode","CustomObjName":"ReturnObject","CustomKeyName":"Key","CustomValueName":"Value","ReqObj":{"RefMasterTypeCode":"TMS_TENOR_TYPE"}}},{"Action":[],"Type":"TEXT","Label":"Reference No.","Variable":"ReferenceNo","Value":"","Pattern":"","IsRequired":true,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":true,"Placeholder":"Input reference no"},{"Action":[{"type":"requiredField","condition":[{"variable":"PaySchmCode","restriction":"Eq","value":"DUEDATE"}],"listField":["DueDate"],"isRevertable":true},{"type":"enabledField","condition":[{"variable":"PaySchmCode","restriction":"Eq","value":"DUEDATE"}],"listField":["DueDate"],"isRevertable":true},{"type":"showField","condition":[{"variable":"PaySchmCode","restriction":"Eq","value":"DUEDATE"}],"listField":["DueDate"],"isRevertable":true}],"Type":"DDL","Label":"Payment Scheme","Variable":"PaySchmCode","IsRequired":true,"IsCallback":true,"IsReadonly":false,"IsHide":false,"IsEditable":true,"UseDefaultValue":false,"isUseAPI":true,"DdlItemsObj":null,"DdlReqObj":{"Environment":"FOU","Url":"/RefMaster/GetListKeyValueActiveByCode","CustomObjName":"ReturnObject","CustomKeyName":"Key","CustomValueName":"Value","ReqObj":{"RefMasterTypeCode":"LOAN_PAY_SCHM"}}},{"Action":[],"Type":"DATE","Label":"Drawdown Plan Date","Variable":"DrawdownDt","IsRequired":true,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":true,"Max":null,"MinDtCode":null,"MinOperator":null,"MinValue":null,"MaxDtCode":null,"MaxOperator":null,"MaxValue":null,"DtRestrictOptMin":"","DtRestrictOptMax":""},{"Action":[],"Type":"DATE","Label":"Due Date","Variable":"DueDate","IsRequired":false,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":true,"Max":null,"MinDtCode":null,"MinOperator":null,"MinValue":null,"MaxDtCode":null,"MaxOperator":null,"MaxValue":null,"DtRestrictOptMin":"","DtRestrictOptMax":""},{"Action":[],"Type":"DDL","Label":"Installment Scheme","Variable":"InstSchmCode","IsRequired":true,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":true,"UseDefaultValue":false,"isUseAPI":true,"DdlItemsObj":null,"DdlReqObj":{"Environment":"FOU","Url":"/RefMaster/GetListKeyValueActiveByCode","CustomObjName":"ReturnObject","CustomKeyName":"Key","CustomValueName":"Value","ReqObj":{"RefMasterTypeCode":"LOAN_INST_SCHM"}}},{"Action":[],"Type":"CURRENCY","Label":"Drawdown Plan Amount","Variable":"DrawdownAmt","Value":"","IsRequired":true,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":true,"Min":"","Max":"","CurrencyMaskConfig":{"precision":"2"}},{"Action":[],"Type":"DDL","Label":"Installment Period","Variable":"InstPeriod","IsRequired":true,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":true,"UseDefaultValue":false,"isUseAPI":true,"DdlItemsObj":null,"DdlReqObj":{"Environment":"FOU","Url":"/RefPayFreq/GetListActiveRefPayFreq","CustomObjName":"ReturnObject","CustomKeyName":"PayFreqCode","CustomValueName":"Descr","ReqObj":{}}},{"Action":[{"type":"showField","condition":[{"variable":"GracePeriodTypeCode","restriction":"NEQ","value":""}],"listField":["GracePeriodInst"],"isRevertable":true}],"Type":"DDL","Label":"Grace Period Type","Variable":"GracePeriodTypeCode","IsRequired":false,"IsCallback":true,"IsReadonly":false,"IsHide":false,"IsEditable":true,"UseDefaultValue":false,"isUseAPI":true,"DdlItemsObj":null,"DdlReqObj":{"Environment":"FOU","Url":"/RefMaster/GetListKeyValueActiveByCode","CustomObjName":"ReturnObject","CustomKeyName":"Key","CustomValueName":"Value","ReqObj":{"RefMasterTypeCode":"GRACE_PERIOD_TYPE"}}},{"Action":[],"Type":"DDL","Label":"Collateral Location","Variable":"CollDocLoc","IsRequired":true,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":true,"UseDefaultValue":false,"isUseAPI":true,"DdlItemsObj":null,"DdlReqObj":{"Environment":"FOU","Url":"/RefMaster/GetListKeyValueActiveByCode","CustomObjName":"ReturnObject","CustomKeyName":"Key","CustomValueName":"Value","ReqObj":{"RefMasterTypeCode":"TMS_COLLATERAL_LOCATION"}}},{"Action":[],"Type":"NUMERIC","Label":"Grace Period Installment","Variable":"GracePeriodInst","Value":"","IsRequired":false,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":true,"Min":"","Max":""}],"onLoad":[{"conditions":[],"isUseApi":true,"reqObj":[{"isFromDict":false,"propName":"TrxNo","propValue":"FundingBatchNo"}],"environment":"facilityMntUrl","apiPath":"/v1/LoanBatchObj/GetObjectByUniqueNo"},{"conditions":[],"isUseApi":true,"reqObj":[{"isFromDict":false,"propName":"Key","propValue":"LoanBatchId"},{"isFromDict":false,"propName":"Operator","propValue":"EQ"},{"isFromDict":false,"propName":"Value","propValue":"LoanBatchId"}],"environment":"facilityMntUrl","apiPath":"/v1/LoanBatchXObj/GetObjectByKeyAndValue"}],"criteria":[],"mapCookie":[],"initAction":[{"type":"hideField","condition":[{"variable":"GsValue","restriction":"Eq","value":"1"}],"listField":["LoanBatchNo"],"isRevertable":true},{"type":"requiredField","condition":[{"variable":"GsValue","restriction":"Eq","value":"0"}],"listField":["LoanBatchNo"],"isRevertable":true},{"type":"showField","condition":[{"variable":"GracePeriodTypeCode","restriction":"NEQ","value":""}],"listField":["GracePeriodInst"],"isRevertable":true},{"type":"hideField","condition":[{"variable":"PaySchmCode","restriction":"NEQ","value":"DUEDATE"}],"listField":["DueDate"],"isRevertable":true},{"type":"disabledField","condition":[{"variable":"BatchStat","restriction":"Eq","value":"DRW"}],"listField":["LoanBatchNo","Tenor","ReferenceNo","PaySchmCode","DrawdownDt","DueDate","InstSchmCode","DrawdownAmt","InstSchmCode","GracePeriodTypeCode","InstPeriod","CollDocLoc","GracePeriodInst","TenorType"],"isRevertable":true}]}},"id":"e4ce5f7a-65bd-4b8b-9e39-e1792a19c1f1"},{"form":{"subsection":{"title":"Interest Setting","isVertical":false,"isSubsection":true,"isModeAdd":true,"formInput":[{"Action":[{"type":"hideField","condition":[{"variable":"InterestTypeCode","restriction":"Eq","value":"FIXED"}],"listField":["BottomRate","BottomRateBasedOnCode","MarginRate"],"isRevertable":true},{"type":"hideField","condition":[{"variable":"InterestTypeCode","restriction":"Eq","value":"FLOATING"}],"listField":["InterestRate"],"isRevertable":true},{"type":"requiredField","condition":[{"variable":"InterestTypeCode","restriction":"Eq","value":"FIXED"}],"listField":["BottomRate","BottomRateBasedOnCode","MarginRate"],"isRevertable":true},{"type":"requiredField","condition":[{"variable":"InterestTypeCode","restriction":"Eq","value":"FLOATING"}],"listField":["InterestRate"],"isRevertable":true},{"type":"requiredField","condition":[{"variable":"InterestTypeCode","restriction":"Eq","value":"FIXEDBATCH"}],"listField":["BottomRate","BottomRateBasedOnCode","MarginRate","InterestRate"],"isRevertable":true},{"type":"requiredField","condition":[{"variable":"InterestTypeCode","restriction":"Eq","value":"FIXED"}],"listField":["InterestRate"],"isRevertable":true},{"type":"requiredField","condition":[{"variable":"InterestTypeCode","restriction":"Eq","value":"FLOATING"}],"listField":["BottomRate","BottomRateBasedOnCode","MarginRate"],"isRevertable":true}],"Type":"DDL","Label":"Interest Type","Variable":"InterestTypeCode","IsRequired":true,"IsCallback":true,"IsReadonly":false,"IsHide":false,"IsEditable":true,"UseDefaultValue":false,"isUseAPI":true,"DdlItemsObj":null,"DdlReqObj":{"Environment":"FOU","Url":"/RefMaster/GetListKeyValueActiveByCode","CustomObjName":"ReturnObject","CustomKeyName":"Key","CustomValueName":"Value","ReqObj":{"RefMasterTypeCode":"TMS_INTEREST_TYPE"}}},{"Action":[],"Type":"PERCENT","Label":"Bottom Rate","Variable":"BottomRate","Value":"0","IsRequired":false,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":true,"Min":"","Max":""},{"Action":[],"Type":"DDL","Label":"Bottom Rate Based On","Variable":"BottomRateBasedOnCode","IsRequired":false,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":true,"UseDefaultValue":false,"isUseAPI":true,"DdlItemsObj":null,"DdlReqObj":{"Environment":"FOU","Url":"/RefMaster/GetListKeyValueActiveByCode","CustomObjName":"ReturnObject","CustomKeyName":"Key","CustomValueName":"Value","ReqObj":{"RefMasterTypeCode":"TMS_BOTTOM_RATE_BASED_ON"}}},{"Action":[],"Type":"PERCENT","Label":"Margin Rate","Variable":"MarginRate","Value":"0","IsRequired":false,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":true,"Min":"","Max":""},{"Action":[],"Type":"PERCENT","Label":"Interest Rate","Variable":"InterestRate","Value":"0","IsRequired":false,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":true,"Min":"","Max":""}],"onLoad":[{"conditions":[],"isUseApi":true,"reqObj":[{"isFromDict":false,"propName":"TrxNo","propValue":"FundingBatchNo"}],"environment":"facilityMntUrl","apiPath":"/v1/LoanBatchObj/GetObjectByUniqueNo"}],"criteria":[],"mapCookie":[],"initAction":[{"type":"disabledField","condition":[{"variable":"BatchStat","restriction":"Eq","value":"DRW"}],"listField":["InterestTypeCode","BottomRate","BottomRateBasedOnCode","MarginRate","InterestRate"],"isRevertable":true}]}},"id":"02561426-9561-4dbb-8a8a-f11314615bbd"},{"container":{"key":"LoanBatchDetailBatchFeeComponent","className":"LoanBatchDetailBatchFeeComponent","cssClass":"","input":{}},"id":"867b6465-14d6-4964-a074-2402be140996"}],"serviceUrl":{"add":{"environment":"","apiPath":"","apiUrl":""},"edit":{"environment":"","apiPath":"","apiUrl":""},"createRfa":{"environment":"","apiPath":"","apiUrl":""}},"hideTitle":false,"isRedirect":false,"redirectOption":"","redirectLink":"","hideSubmitButton":false,"listBtn":[],"customToastrMsg":"","onCancel":{},"isOverrideSubmit":true,"isOverrideCancel":false,"onSubmit":[{"conditions":[],"result":{"environment":"facilityMntUrl","path":"/v1/LoanBatchX/AddLoanBatchX","onError":{"type":"toaster","message":"Error"},"excObj":[],"mapResToDict":[],"reqObj":[{"propName":"LoanBatchNo","propValue":"formRaw.LoanBatchNo"},{"propName":"Tenor","propValue":"formRaw.Tenor"},{"propName":"ReferenceNo","propValue":"formRaw.ReferenceNo"},{"propName":"PaySchmCode","propValue":"formRaw.PaySchmCode"},{"propName":"DrawdownDt","propValue":"formRaw.DrawdownDt"},{"propName":"InstSchmCode","propValue":"formRaw.InstSchmCode"},{"propName":"DrawdownAmt","propValue":"formRaw.DrawdownAmt"},{"propName":"InstPeriod","propValue":"formRaw.InstPeriod"},{"propName":"GracePeriodTypeCode","propValue":"formRaw.GracePeriodTypeCode"},{"propName":"CollDocLoc","propValue":"formRaw.CollDocLoc"},{"propName":"GracePeriodInst","propValue":"formRaw.GracePeriodInst"},{"propName":"InterestTypeCode","propValue":"formRaw.InterestTypeCode"},{"propName":"BottomRate","propValue":"formRaw.BottomRate"},{"propName":"BottomRateBasedCode","propValue":"formRaw.BottomRateBasedOnCode"},{"propName":"MarginRate","propValue":"formRaw.MarginRate"},{"propName":"BatchFees","propValue":"formRaw.BatchFees"},{"propName":"Mode","propValue":"mode"},{"propName":"LoanContractNo","propValue":"LoanContractNo"},{"propName":"DueDate","propValue":"formRaw.DueDate"},{"propName":"InterestRate","propValue":"formRaw.InterestRate"},{"propName":"TenorType","propValue":"formRaw.TenorType"}],"onSuccess":[{"conditions":[],"result":{"type":"toaster","mode":"success","message":"Success Submit"}},{"conditions":[],"result":{"type":"link","params":[{"propName":"LoanContractNo","propValue":"LoanContractNo"}],"path":"/Setting/LoanBatch/PagingX","target":"_self"}}],"type":"http"}}],"hideCancelButton":false,"onInit":[{"environment":"facilityMntUrl","apiPath":"/v1/GeneralSetting/GetGSValueByGSCode","reqObj":[{"isFromDict":false,"propName":"code","propValue":"AUTO_GENERATE_LOAN_BATCH"}],"return":[{"propName":"GsValue","propValue":"GsValue"}],"conditions":[]}],"conditionalTitle":[],"persistData":false,"persistPropName":""}