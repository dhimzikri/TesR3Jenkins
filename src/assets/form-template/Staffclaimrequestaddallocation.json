{"title":"Staff Claim Allocation Detail","hideTitle":false,"id":"Staffclaimrequestaddallocation","addButton":false,"addLink":"","pathOption":"","backButton":false,"component":[{"form":{"subsection":{"title":"Staff Claim Data","isVertical":false,"isSubsection":true,"isModeAdd":true,"formInput":[{"Action":[],"Type":"LABEL","Label":"Employee","Variable":"EmpName","LabelType":"TEXT","Position":"text-left"},{"Action":[],"Type":"LABEL","Label":"OS Limit Amount","Variable":"OsLimitAmount","LabelType":"TEXT","Position":"text-left"},{"Action":[],"Type":"DDL","Label":"Staff Claim Type","Variable":"MrStaffClaimTypeCode","IsRequired":true,"IsCallback":true,"IsReadonly":false,"IsHide":false,"IsEditable":true,"UseDefaultValue":false,"isUseAPI":true,"DdlItemsObj":null,"DdlReqObj":{"Environment":"FOU","Url":"/v1/RefMaster/GetListKeyValueActiveByCode","CustomObjName":"ReturnObject","CustomKeyName":"Key","CustomValueName":"Value","ReqObj":{"RefMasterTypeCode":"STAFF_CLAIM"}}},{"Action":[{"type":"disabledField","condition":[{"variable":"CurrCode","restriction":"Eq","value":"IDR"}],"listField":["CurrRateAmt"],"isRevertable":true},{"type":"bindValue","condition":[{"variable":"CurrCode","restriction":"Eq","value":"IDR"}],"listBind":[{"variable":"CurrRateAmt","value":"1"}],"isRevertable":true}],"Type":"DDL","Label":"Currency","Variable":"CurrCode","IsRequired":true,"IsCallback":true,"IsReadonly":false,"IsHide":false,"IsEditable":true,"UseDefaultValue":false,"isUseAPI":true,"DdlItemsObj":null,"DdlReqObj":{"Environment":"FOU","Url":"/v1/RefCurr/GetListKvpActiveRefCurr","CustomObjName":"ReturnObject","CustomKeyName":"Key","CustomValueName":"Value","ReqObj":{}}},{"Action":[{"type":"cbCallback","key":"CurrRate"}],"Type":"CURRENCY","Label":"Currency Rates","Variable":"CurrRateAmt","Value":"0","IsRequired":true,"IsCallback":true,"IsReadonly":false,"IsHide":false,"IsEditable":true,"Min":"","Max":"","CurrencyMaskConfig":{"precision":"2"}},{"Action":[],"Type":"TEXT","Label":"Invoice No","Variable":"InvoiceNo","Value":"","Pattern":"","IsRequired":true,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":true,"Placeholder":""},{"Action":[],"Type":"CURRENCY","Label":"Request Amount","Variable":"ReqAmt","Value":"0","IsRequired":true,"IsCallback":true,"IsReadonly":true,"IsHide":false,"IsEditable":false,"Min":"","Max":"","CurrencyMaskConfig":{"precision":"2"}},{"Action":[],"Type":"DATE","Label":"Invoice Date","Variable":"InvoiceDt","IsRequired":true,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":true,"Max":null,"MinDtCode":null,"MinOperator":null,"MinValue":null,"MaxDtCode":null,"MaxOperator":null,"MaxValue":null,"DtRestrictOptMin":"","DtRestrictOptMax":""},{"Action":[],"Type":"TEXT","Label":"Request Notes","Variable":"Notes","Value":"","Pattern":"","IsRequired":true,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":false,"IsEditable":true,"Placeholder":""},{"Action":[{"type":"cbCallback","key":"InvoiceAmt"}],"Type":"CURRENCY","Label":"Invoice Amount","Variable":"InvoiceAmt","Value":"0","IsRequired":true,"IsCallback":true,"IsReadonly":false,"IsHide":false,"IsEditable":true,"Min":"","Max":"","CurrencyMaskConfig":{"precision":"2"}},{"Action":[],"Type":"DATE","Label":"","Variable":"InputDt","IsRequired":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":false,"Max":null,"MinDtCode":null,"MinOperator":null,"MinValue":null,"MaxDtCode":null,"MaxOperator":null,"MaxValue":null,"DtRestrictOptMin":"","DtRestrictOptMax":""},{"Action":[],"Type":"NUMERIC","Label":"","Variable":"OriginAmt","Value":"0","IsRequired":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":false,"Min":"","Max":""},{"Action":[],"Type":"DATE","Label":"ReqDt","Variable":"ReqDt","IsRequired":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":false,"Max":null,"MinDtCode":null,"MinOperator":null,"MinValue":null,"MaxDtCode":null,"MaxOperator":null,"MaxValue":null,"DtRestrictOptMin":"","DtRestrictOptMax":""}],"onLoad":[],"criteria":[],"mapCookie":[{"variableName":"EmpName","cookieName":"EmpName","isEmptyNotFound":true},{"variableName":"MrStaffClaimTypeCode","cookieName":"RowObj.MrStaffClaimTypeCode","isEmptyNotFound":true},{"variableName":"CurrCode","cookieName":"RowObj.CurrCode","isEmptyNotFound":true},{"variableName":"InvoiceAmt","cookieName":"RowObj.InvoiceAmt","isEmptyNotFound":true},{"variableName":"InvoiceDt","cookieName":"RowObj.InvoiceDt","isEmptyNotFound":true},{"variableName":"InputDt","cookieName":"RowObj.InputDt","isEmptyNotFound":true},{"variableName":"CurrRateAmt","cookieName":"RowObj.CurrRateAmt","isEmptyNotFound":true},{"variableName":"InvoiceNo","cookieName":"RowObj.InvoiceNo","isEmptyNotFound":true},{"variableName":"ReqAmt","cookieName":"RowObj.ReqAmt","isEmptyNotFound":true},{"variableName":"Notes","cookieName":"RowObj.Notes","isEmptyNotFound":true},{"variableName":"OsLimitAmount","cookieName":"OsLimitAmount","isEmptyNotFound":true},{"variableName":"OriginAmt","cookieName":"RowObj.OriginAmt","isEmptyNotFound":true},{"variableName":"ReqDt","cookieName":"RowObj.ReqDt","isEmptyNotFound":true}],"initAction":[{"type":"bindValue","condition":[],"listBind":[{"variable":"EmpName","value":"EmpName"},{"variable":"InputDt","value":"useraccess.BusinessDt"},{"variable":"OsLimitAmount","value":"OsLimitAmt"},{"variable":"ReqDt","value":"useraccess.BusinessDt"}],"isRevertable":false},{"type":"disabledField","condition":[{"variable":"RowObj.CurrCode","restriction":"Eq","value":"IDR"}],"listField":["CurrRateAmt"],"isRevertable":true}]}},"id":"ed54e6b2-fffa-4ae7-96ba-e2c31e6a6fd6"},{"form":{"subsection":{"title":"Activity","isVertical":false,"isSubsection":true,"isModeAdd":true,"formInput":[{"Action":[{"type":"callAPI","environment":"FOU","apiPath":"/v1/RefPaymentAlloc/GetRefPaymentAllocByPaymentAllocCode","reqObj":[{"propName":"Code","propValue":"refPaymentAllocCode"}],"bindToVar":[{"variable":"PaymentAllocName","value":"PaymentAllocName"},{"variable":"PaymentAllocCode","value":"PaymentAllocCode"}],"bindToDict":[],"bindToFormArr":[],"condition":[{"variable":"CostMaster_4","restriction":"NEQ","value":""}]},{"type":"callAPI","environment":"FINOPS","apiPath":"/v1/RefCostMasterDObj/GetObjectbyPrimaryKey","reqObj":[{"propName":"Id","propValue":"CostMaster_3"}],"bindToVar":[{"variable":"Activity","value":"CostMasterName"}],"bindToDict":[],"bindToFormArr":[],"condition":[{"variable":"CostMaster_3","restriction":"NEQ","value":""}]},{"type":"callAPI","environment":"FINOPS","apiPath":"/v1/RefCostMasterDObj/GetObjectbyPrimaryKey","reqObj":[{"propName":"Id","propValue":"CostMaster_4"}],"bindToVar":[{"variable":"SubActivity","value":"CostMasterName"}],"bindToDict":[],"bindToFormArr":[],"condition":[{"variable":"CostMaster_4","restriction":"NEQ","value":""}]}],"Type":"TREE","Variable":"CostMaster","parentKey":"Id","childKey":"Child","environment":"FINOPS","apiPath":"/v1/CostMaster/GetListCostMasterHWithMinLevel","reqObj":[{"propName":"Id","propValue":"1"}],"customLabelName":"CostMasterLvlName","ddlObj":{"customObjName":"ReturnObject","customKeyName":"RefCostMasterDId","customValueName":"Name","environment":"FINOPS","apiPath":"/v1/CostMaster/GetListCostAllocSchmByParentId","reqObj":[{"propName":"Id","propValue":"refId"}]},"useAttribute":true,"attributeObj":{"variable":"ListAttr"}},{"Action":[],"Type":"LABEL","Label":"Allocation","Variable":"PaymentAllocName","LabelType":"TEXT","Position":"text-left"},{"Action":[],"Type":"TEXT","Label":"","Variable":"SubActivity","Value":"","Pattern":"","IsRequired":true,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":true,"Placeholder":""},{"Action":[],"Type":"TEXT","Label":"","Variable":"Activity","Value":"","Pattern":"","IsRequired":false,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":false,"Placeholder":""},{"Action":[],"Type":"TEXT","Label":"","Variable":"PaymentAllocCode","Value":"","Pattern":"","IsRequired":false,"IsUppercase":false,"IsCallback":false,"IsReadonly":false,"IsHide":true,"IsEditable":false,"Placeholder":""}],"onLoad":[],"criteria":[],"mapCookie":[{"variableName":"CostMaster","cookieName":"RowObj.CostMaster","isEmptyNotFound":false},{"variableName":"PaymentAllocCode","cookieName":"RowObj.PaymentAllocCode","isEmptyNotFound":false},{"variableName":"PaymentAllocName","cookieName":"PaymentAllocName","isEmptyNotFound":false},{"variableName":"SubActivity","cookieName":"RowObj.SubActivity","isEmptyNotFound":false},{"variableName":"Activity","cookieName":"RowObj.Activity","isEmptyNotFound":false}],"initAction":[]}},"id":"cb90ad63-9a07-43a1-8ff1-ebf6c17d7abb","conditions":[]},{"attr":{"title":"Attributes","isVertical":false,"isSubsection":true,"variable":"ListAttr","propertyCodeName":"AttrCode","propertyCodeValue":"AttrValue","environment":"FoundationR3Url","apiPath":"/v1/RefPaymentAlloc/GetListRefPaymentAllocAttrByRefPaymentAllocCodeForTemplate","reqObj":[{"propName":"Code","propValue":"refPaymentAllocCode"}],"onLoad":[{"conditions":[],"isUseApi":false,"reqObj":[],"environment":"dicts","apiPath":"RowObj.ListAttr","dataSource":"dicts","propName":"RowObj.ListAttr"}]},"id":"9e3569ce-7f67-4af9-8e11-fb3ee24c973f","conditions":[{"property":"form.CostMaster_4","restriction":"NEQ","value":""},{"property":"refPaymentAllocCode","restriction":"NEQ","value":""}]},{"fileupload":{"label":"Upload Document","variable":"DocStaffClaim","docuploadType":"Dokumen Staff Claim","limitFileSize":"1024","allowedExt":"pdf;doc;docx;xls;xlsx","isRequired":false,"metadata":[{"label":"Jenis Dokumen","value":"Dokumen Staff Claim"}],"isSubsection":true,"subsectionTitle":"Upload Document"},"id":"66638a8d-60ce-4343-8adb-fc7c53aa13af"}],"serviceUrl":{"add":{"environment":"","apiPath":"","apiUrl":""},"edit":{"environment":"","apiPath":"","apiUrl":""},"createRfa":{"environment":"","apiPath":"","apiUrl":""}},"isRedirect":false,"redirectOption":"","redirectLink":"","hideSubmitButton":false,"hideCancelButton":false,"listBtn":[],"onInit":[{"environment":"FoundationR3Url","apiPath":"/v1/RefPaymentAlloc/GetRefPaymentAllocByPaymentAllocCode","reqObj":[{"isFromDict":false,"propName":"code","propValue":"RowObj.PaymentAllocCode"}],"return":[{"propName":"PaymentAllocName","propValue":"PaymentAllocName"}],"conditions":[{"property":"mode","restriction":"EQ","value":"edit"}]}],"isOverrideSubmit":false,"onSubmit":[],"isOverrideCancel":false,"onCancel":{"type":"link","path":"/staff-claim/detail","target":"_self","params":[]},"conditionalTitle":[],"customToastrMsg":"","persistData":false,"persistPropName":""}