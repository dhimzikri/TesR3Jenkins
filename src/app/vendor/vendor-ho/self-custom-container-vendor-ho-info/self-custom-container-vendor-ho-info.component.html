<div class="bg-light-blue-card">
  <form [formGroup]="parentForm" #enjiForm="ngForm">
    <div *ngIf="MrVendorCategoryCode=='SUPPLIER_HO'">
        <lib-ucSubsection [id]="'HOIdOne'" [title]="HoTitle + 'HO Info'" [panel]="'HOInformation'">
        </lib-ucSubsection>
        <div id="HOInformation" class="px-3">
          <div class="form-body" formGroupName="VendorAttrList" *ngIf="isFormReady">
            <ng-container *ngFor="let attr of VendorAttrList">
              <div class="form-group row" *ngIf="attr.AttrInputType == 'T'" [formGroupName]="attr.AttrCode">
                <label class="col-md-12 adInsLabel label-field-2 ">{{attr.AttrName}}</label>
                <div class="col-md-12">
                  <input type="text" class="form-control adInsInput  input-field-2" style="width: 100%;"
                    formControlName="VendorAttrValue"
                    [ngClass]="{ 'is-invalid': enjiForm.submitted && parentForm.controls['VendorAttrList']['controls'][attr['AttrCode']].controls.VendorAttrValue.invalid }">
                  <div class="message-box">
                    <lib-uc-show-errors
                    [control]="parentForm.controls['VendorAttrList']['controls'][attr['AttrCode']].controls.VendorAttrValue"
                    [submit]="enjiForm.submitted"></lib-uc-show-errors>
                  </div>
                </div>
              </div>
              <div class="form-group row" *ngIf="attr.AttrInputType == 'N'" [formGroupName]="attr.AttrCode">
                <label class="col-md-12 adInsLabel label-field-2 ">{{attr.AttrName}}</label>
                <div class="col-md-12">
                  <input type="number" class="form-control adInsInput input-field-2" style="width: 100%;"
                    formControlName="VendorAttrValue"
                    [ngClass]="{ 'is-invalid': enjiForm.submitted && parentForm.controls['VendorAttrList']['controls'][attr['AttrCode']].controls.VendorAttrValue.invalid }">
                  <div class="message-box">
                    <lib-uc-show-errors
                    [control]="parentForm.controls['VendorAttrList']['controls'][attr['AttrCode']].controls.VendorAttrValue"
                    [submit]="enjiForm.submitted"></lib-uc-show-errors>
                  </div>
                </div>
              </div>
              <div class="form-group row" *ngIf="attr.AttrInputType == 'L'" [formGroupName]="attr.AttrCode">
                <label class="col-md-12 adInsLabel label-field-2 ">{{attr.AttrName}}</label>
                <div class="col-md-12">
                  <select class="form-control adInsInput input-field-2" style="width: 100%;" formControlName="VendorAttrValue"
                    [ngClass]="{ 'is-invalid': enjiForm.submitted && parentForm.controls['VendorAttrList']['controls'][attr['AttrCode']].controls.VendorAttrValue.invalid }">
                    <option *ngFor="let valueItem of DictDDLVendorAttr[attr.AttrCode]" [value]="valueItem">
                      {{valueItem}}
                    </option>
                  </select>
                  <div class="message-box">
                    <lib-uc-show-errors
                    [control]="parentForm.controls['VendorAttrList']['controls'][attr['AttrCode']].controls.VendorAttrValue"
                    [submit]="enjiForm.submitted"></lib-uc-show-errors>
                  </div>
                </div>
              </div>
              <div class="form-group row" *ngIf="attr.AttrInputType == 'TA'" [formGroupName]="attr.AttrCode">
                <label class="col-md-12 adInsLabel label-field-2">{{attr.AttrName}}</label>
                <div class="col-md-12">
                  <textarea class="form-control adInsInput textarea-field-2" formControlName="VendorAttrValue" style="width: 100%;"
                    [ngClass]="{ 'is-invalid': enjiForm.submitted && parentForm.controls['VendorAttrList']['controls'][attr['AttrCode']].controls.VendorAttrValue.invalid }"></textarea>
                  <div class="message-box">
                    <lib-uc-show-errors
                    [control]="parentForm.controls['VendorAttrList']['controls'][attr['AttrCode']].controls.VendorAttrValue"
                    [submit]="enjiForm.submitted"></lib-uc-show-errors>
                  </div>
                </div>
              </div>
              <div class="form-group row" *ngIf="attr.AttrType == 'D'" [formGroupName]="attr.AttrCode">
                <label class="col-md-12 adInsLabel label-field-2 ">{{attr.AttrName}}</label>
                <div class="col-md-12">
                  <input type="date" class="form-control adInsInput input-field-2" style="width: 100%;"
                    formControlName="VendorAttrValue"
                    [ngClass]="{ 'is-invalid': enjiForm.submitted && parentForm.controls['VendorAttrList']['controls'][attr['AttrCode']].controls.VendorAttrValue.invalid }">
                  <div class="message-box">
                    <lib-uc-show-errors
                    [control]="parentForm.controls['VendorAttrList']['controls'][attr['AttrCode']].controls.VendorAttrValue"
                    [submit]="enjiForm.submitted"></lib-uc-show-errors>
                  </div>
                </div>
              </div>
              <div class="form-group row" *ngIf="attr.AttrInputType == 'P'" [formGroupName]="attr.AttrCode">
                <label class="col-md-12 adInsLabel label-field-2 ">{{attr.AttrName}}</label>
                <div class="col-md-12">
                  <input type="" currencyMask class="form-control adInsInput input-field-2" style="width: 100%;"
                    formControlName="VendorAttrValue"
                    [ngClass]="{ 'is-invalid': enjiForm.submitted && parentForm.controls['VendorAttrList']['controls'][attr['AttrCode']].controls.VendorAttrValue.invalid }"
                    [options]="{ thousands: ',', decimal: '.', align: 'right', allowNegative: true, allowZero:true, precision: 6, nullable: false }">
                  <div class="message-box">
                    <lib-uc-show-errors
                    [control]="parentForm.controls['VendorAttrList']['controls'][attr['AttrCode']].controls.VendorAttrValue"
                    [submit]="enjiForm.submitted"></lib-uc-show-errors>
                  </div>
                </div>
              </div>
              <div class="form-group row" *ngIf="attr.AttrInputType == 'RM'" [formGroupName]="attr.AttrCode">
                <label class="col-md-12 adInsLabel label-field-2 ">{{attr.AttrName}}
                </label>
                <div class="col-md-12">
                  <lib-uclookupgeneric [lookupInput]="ListInputLookUpObj[0][attr['AttrCode']]"
                    [parentForm]="parentForm" [enjiForm]="enjiForm" [identifier]="'lookup'+ attr.AttrCode"
                    (lookup)=getLookUpAttr($event,attr.AttrCode)>
                  </lib-uclookupgeneric>
                  <div class="message-box">
                    <lib-uc-show-errors
                    [control]="parentForm.controls['VendorAttrList']['controls'][attr['AttrCode']].controls.VendorAttrValue"
                    [submit]="enjiForm.submitted"></lib-uc-show-errors>
                  </div>
                </div>
              </div>
            </ng-container>
          </div>
          <div class="form-body">
            <div class="form-group row">
              <label class="col-md-12 label-field-2 adins-required-label">Supplier Holding</label>
              <div class="col-md-12" *ngIf="inputLookupParentObj.isReady">
                <lib-uclookupgeneric [lookupInput]="inputLookupParentObj" [parentForm]="parentForm"
                  [enjiForm]="enjiForm" [identifier]="'lookupParent'" (lookup)="getLookupParent($event)">
                </lib-uclookupgeneric>
                <div class="message-box">
                  <lib-uc-show-errors [control]="parentForm.controls.VendorParentId"
                  [submit]="enjiForm.submitted"></lib-uc-show-errors>
                </div>
              </div>
            </div>
          </div>
        </div>
    </div>
    <div *ngIf="MrVendorCategoryCode == 'SUPPLIER_HO' && MrVendorTypeCode == 'C'">
        <span class="mr-1 pull-right">
          <button type="button" class="addButton btn-primary-2" (click)="AddAtpmClick()" style="margin-right: 0!important;">
            <i class="ft-plus-circle"></i>&nbsp;<span translate>Add ATPM</span>
          </button>
        </span>
        <lib-ucSubsection [id]="'ATPMInfo'" [title]="'ATPM Info'" [panel]="'ATPMInformation'">
        </lib-ucSubsection>
        <div id="ATPMInformation">
          <br>
          <div class="col-md-12">
            <div class="col-md-12" style="overflow-x: auto;">
              <table class="table table-responsive-md text-center table-hover table-new">
                <thead>
                  <tr class="table-header-2">
                    <th style="text-align: center;">
                      <span class="thead-header" name='vendorAtpmCode' translate>VENDOR CODE</span>
                    </th>
                    <th style="text-align: left;">
                      <span class="thead-header" name='vendorAtpmName' translate>VENDOR NAME</span>
                    </th>
                    <th style="text-align: left;">
                      <span class="thead-header" name='vendorAddress' translate>VENDOR LEGAL ADDRESS</span>
                    </th>
                    <th style="text-align: center;">
                      <span class="thead-header" name='endingBalance' translate>DELETE</span>
                    </th>
                  </tr>
                </thead>
                <tbody *ngIf="vendorAtpmList.length == 0">
                  <tr>
                    <td colspan="100%">No Data Available</td>
                  </tr>
                </tbody>
                <tbody>
                  <tr *ngFor="let item of vendorAtpmList; let i = index">
                    <td style="text-align: center;">{{item.VendorAtpmCode}}</td>
                    <td style="text-align: left;">{{item.VendorAtpmName}}</td>
                    <td style="text-align: left;">{{item.VendorAtpmLegalAddr}}</td>
                    <td style="text-align: center;">
                      <a class="warning p-0" (click)="deleteAtpm(item)">
                        <i class="ft-trash-2 font-medium-3 mr-2"></i>
                      </a>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
    </div>
    <div *ngIf="MrVendorCategoryCode=='ASSET_INSCO_HO' && isFormReady">
        <lib-ucSubsection [id]="'HOIdOne'" [title]="HoTitle + 'Info'" [panel]="'HOInformation'">
        </lib-ucSubsection>
        <div id="HOInformation" class="px-3">
          <div class="form-body" formGroupName="VendorAttrList" *ngIf="isFormReady">
            <ng-container *ngFor="let attr of VendorAttrList">
              <div class="form-group row" *ngIf="attr.AttrInputType == 'T'" [formGroupName]="attr.AttrCode">
                <label class="col-md-12 adInsLabel label-field-2 ">{{attr.AttrName}}</label>
                <div class="col-md-12">
                  <input type="text" class="form-control adInsInput input-field-2" style="width: 100%;"
                    formControlName="VendorAttrValue"
                    [ngClass]="{ 'is-invalid': enjiForm.submitted && parentForm.controls['VendorAttrList']['controls'][attr['AttrCode']].controls.VendorAttrValue.invalid }">
                  <div class="message-box">
                    <lib-uc-show-errors
                    [control]="parentForm.controls['VendorAttrList']['controls'][attr['AttrCode']].controls.VendorAttrValue"
                    [submit]="enjiForm.submitted"></lib-uc-show-errors>
                  </div>
                </div>
              </div>
              <div class="form-group row" *ngIf="attr.AttrInputType == 'N'" [formGroupName]="attr.AttrCode">
                <label class="col-md-12 adInsLabel label-field-2 ">{{attr.AttrName}}</label>
                <div class="col-md-12">
                  <input type="number" min="0" oninput="this.value = !!this.value && Math.abs(this.value) >= 0 ? Math.abs(this.value) : null" class="form-control adInsInput input-field-2" style="width: 100%;"
                    formControlName="VendorAttrValue"
                    [ngClass]="{ 'is-invalid': enjiForm.submitted && parentForm.controls['VendorAttrList']['controls'][attr['AttrCode']].controls.VendorAttrValue.invalid }">
                  <div class="message-box">
                    <lib-uc-show-errors
                    [control]="parentForm.controls['VendorAttrList']['controls'][attr['AttrCode']].controls.VendorAttrValue"
                    [submit]="enjiForm.submitted"></lib-uc-show-errors>
                  </div>
                </div>
              </div>
              <div class="form-group row" *ngIf="attr.AttrInputType == 'L'" [formGroupName]="attr.AttrCode">
                <label class="col-md-12 adInsLabel label-field-2 ">{{attr.AttrName}}</label>
                <div class="col-md-12">
                  <select class="form-control adInsInput input-field-2" style="width: 100%;" formControlName="VendorAttrValue"
                    [ngClass]="{ 'is-invalid': enjiForm.submitted && parentForm.controls['VendorAttrList']['controls'][attr['AttrCode']].controls.VendorAttrValue.invalid }">
                    <option *ngFor="let valueItem of DictDDLVendorAttr[attr.AttrCode]" [value]="valueItem">
                      {{valueItem}}
                    </option>
                  </select>
                  <div class="message-box">
                    <lib-uc-show-errors
                    [control]="parentForm.controls['VendorAttrList']['controls'][attr['AttrCode']].controls.VendorAttrValue"
                    [submit]="enjiForm.submitted"></lib-uc-show-errors>
                  </div>
                </div>
              </div>
              <div class="form-group row" *ngIf="attr.AttrInputType == 'TA'" [formGroupName]="attr.AttrCode">
                <label class="col-md-12 adInsLabel label-field-2">{{attr.AttrName}}</label>
                <div class="col-md-12">
                  <textarea class="form-control adInsInput textarea-field-2" formControlName="VendorAttrValue" style="width: 100%;"
                    [ngClass]="{ 'is-invalid': enjiForm.submitted && parentForm.controls['VendorAttrList']['controls'][attr['AttrCode']].controls.VendorAttrValue.invalid }"></textarea>
                  <div class="message-box">
                    <lib-uc-show-errors
                    [control]="parentForm.controls['VendorAttrList']['controls'][attr['AttrCode']].controls.VendorAttrValue"
                    [submit]="enjiForm.submitted"></lib-uc-show-errors>
                  </div>
                </div>
              </div>
              <div class="form-group row" *ngIf="attr.AttrType == 'D'" [formGroupName]="attr.AttrCode">
                <label class="col-md-12 adInsLabel label-field-2 ">{{attr.AttrName}}</label>
                <div class="col-md-12">
                  <input type="date" class="form-control adInsInput input-field-2" style="width: 100%;"
                    formControlName="VendorAttrValue"
                    [ngClass]="{ 'is-invalid': enjiForm.submitted && parentForm.controls['VendorAttrList']['controls'][attr['AttrCode']].controls.VendorAttrValue.invalid }">
                  <div class="message-box">
                    <lib-uc-show-errors
                    [control]="parentForm.controls['VendorAttrList']['controls'][attr['AttrCode']].controls.VendorAttrValue"
                    [submit]="enjiForm.submitted"></lib-uc-show-errors>
                  </div>
                </div>
              </div>
              <div class="form-group row" *ngIf="attr.AttrInputType == 'P'" [formGroupName]="attr.AttrCode">
                <label class="col-md-12 adInsLabel label-field-2 ">{{attr.AttrName}}</label>
                <div class="col-md-12">
                  <input type="" currencyMask class="form-control adInsInput input-field-2" style="width: 100%;"
                    formControlName="VendorAttrValue"
                    [ngClass]="{ 'is-invalid': enjiForm.submitted && parentForm.controls['VendorAttrList']['controls'][attr['AttrCode']].controls.VendorAttrValue.invalid }"
                    [options]="{ thousands: ',', decimal: '.', align: 'right', allowNegative: false, allowZero:true, precision: 6, nullable: false }" >
                  <div class="message-box">
                    <lib-uc-show-errors
                    [control]="parentForm.controls['VendorAttrList']['controls'][attr['AttrCode']].controls.VendorAttrValue"
                    [submit]="enjiForm.submitted"></lib-uc-show-errors>
                  </div>
                </div>
              </div>
              <div class="form-group row" *ngIf="attr.AttrInputType == 'RM'" [formGroupName]="attr.AttrCode">
                <label class="col-md-12 adInsLabel label-field-2 ">{{attr.AttrName}}</label>
                <div class="col-md-12">
                  <lib-uclookupgeneric [lookupInput]="ListInputLookUpObj[0][attr['AttrCode']]"
                    [parentForm]="parentForm" [enjiForm]="enjiForm" [identifier]="'lookup'+ attr.AttrCode"
                    (lookup)=getLookUpAttr($event,attr.AttrCode)>
                  </lib-uclookupgeneric>
                  <div class="message-box">
                    <lib-uc-show-errors
                    [control]="parentForm.controls['VendorAttrList']['controls'][attr['AttrCode']].controls.VendorAttrValue"
                    [submit]="enjiForm.submitted"></lib-uc-show-errors>
                  </div>
                </div>
              </div>
            </ng-container>
          </div>
        </div>
    </div>
  </form>
</div><br>